(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";e.s(["Users",()=>s],61911);let s=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},94706,56909,37727,e=>{"use strict";e.s(["default",()=>s],94706);let s=e.i(96001);e.s(["Save",()=>a],56909);let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["X",()=>r.default],37727);var r=e.i(41947)},29122,e=>{"use strict";e.s(["default",()=>V],29122);var s=e.i(43476),a=e.i(33129),r=e.i(87486),t=e.i(19455),l=e.i(91825),n=e.i(33989),i=e.i(95187),c=(0,i.createServerReference)("7fde7a5b7e6d63c9bc643621efe750a8cec933899e",i.callServer,void 0,i.findSourceMapURL,"deleteCurrency"),d=e.i(20754),o=e.i(40160),u=e.i(7233),m=e.i(61911),h=e.i(71645),x=e.i(46696),j=e.i(94814),f=e.i(53145),y=e.i(46087),g=e.i(76639),p=(0,i.createServerReference)("7f59331af4ba3bcafe5210647c9413badc80d4ad3f",i.callServer,void 0,i.findSourceMapURL,"createCurrency"),C=(0,i.createServerReference)("7faef6cc04abeb8a805086191bc59e4e197c5a298a",i.callServer,void 0,i.findSourceMapURL,"updateCurrency"),v=e.i(94706);let N=v.default.object({name:v.default.string().min(2,"Currency name must be at least 2 characters long"),code:v.default.string().min(1,"Currency code is required"),symbol:v.default.string().min(1,"Currency symbol is required"),exchangeRateToBDT:v.default.number().min(1,"Exchange rate to BDT is required")}),b={name:"",code:"",symbol:"",exchangeRateToBDT:0};var w=e.i(56909),T=e.i(37727);function S(e){let{isOpen:a,onClose:r,currency:n}=e,{register:i,handleSubmit:c,reset:d,formState:{errors:o,isSubmitting:u}}=(0,f.useForm)({resolver:(0,j.zodResolver)(N)}),{mutateAsync:v}=(0,l.useSkillMutation)({mutationFn:e=>p(e),onClose:r,reset:d,queryKey:["currencies"]}),{mutateAsync:S}=(0,l.useSkillMutation)({mutationFn:e=>{let{data:s,id:a}=e;return C({body:s,id:a})},onClose:r,queryKey:["currencies"]});(0,h.useEffect)(()=>{n?d(n):d(b)},[n,a,d]);let D=async e=>{let s=x.toast.loading("Saving...");n?(await S({data:e,id:n.id})).success&&x.toast.success("Currency updated successfully!",{id:s}):(await v(e)).success&&x.toast.success("Currency created successfully!",{id:s}),setTimeout(()=>{x.toast.dismiss(s)},3e3)};return(0,s.jsx)(g.Dialog,{open:a,onOpenChange:r,children:(0,s.jsxs)(g.DialogContent,{className:"min-w-[80vw] lg:min-w-5xl",children:[(0,s.jsxs)(g.DialogHeader,{children:[(0,s.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Users,{className:"h-5 w-5"}),n?"Edit Currency":"Add New Currency"]}),(0,s.jsx)(g.DialogDescription,{children:n?"Update the currency information below.":"Create a new currency by entering the currency name below."})]}),(0,s.jsxs)("form",{onSubmit:c(D),className:"space-y-4",children:[(0,s.jsx)(y.default,{register:i,label:"Currency Name",id:"name",errors:o}),(0,s.jsx)(y.default,{register:i,label:"Currency Code",id:"code",errors:o,helperText:"Currency Code (e.g. USD)"}),(0,s.jsx)(y.default,{register:i,label:"Currency Symbol",id:"symbol",errors:o,helperText:"Currency Symbol (e.g. $)"}),(0,s.jsx)(y.default,{register:i,label:"Exchange Rate (BDT)",id:"exchangeRateToBDT",errors:o,helperText:"Exchange Rate (BDT) (e.g. 1 USD = 122 BDT)"}),(0,s.jsxs)(g.DialogFooter,{children:[(0,s.jsxs)(t.Button,{type:"button",variant:"outline",onClick:r,children:[(0,s.jsx)(T.X,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,s.jsxs)(t.Button,{type:"submit",disabled:u,children:[(0,s.jsx)(w.Save,{className:"mr-2 h-4 w-4"}),n?"Update Currency":"Create Currency"]})]})]})]})})}var D=e.i(15288),B=e.i(93479),M=e.i(87130),k=e.i(55436),R=e.i(55146),U=e.i(84774),z=e.i(64659),E=e.i(73375),F=e.i(63059),q=e.i(19897),A=e.i(31026),H=e.i(55900),P=e.i(88511),L=e.i(41071),K=e.i(27612);function O(e){let{currencies:a,sort:r,onSort:l,onEdit:n,onDelete:i,currentPage:c,totalPages:d,onPageChange:o,totalItems:u,itemsPerPage:m}=e,h=e=>{let{field:a,children:n}=e;return(0,s.jsx)(U.TableHead,{children:(0,s.jsxs)(t.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>l(a),children:[n,r.field===a&&("asc"===r.direction?(0,s.jsx)(H.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(z.ChevronDown,{className:"ml-1 h-4 w-4"}))]})})},x=Math.min(c*m,u);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(D.Card,{className:"p-0",children:(0,s.jsx)(D.CardContent,{className:"p-0",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(U.Table,{children:[(0,s.jsx)(U.TableHeader,{children:(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(h,{field:"symbol",children:"Currency Symbol"}),(0,s.jsx)(h,{field:"code",children:"Currency Code"}),(0,s.jsx)(h,{field:"name",children:"Currency Name"}),(0,s.jsx)(h,{field:"exchangeRateToBDT",children:"Exchange Rate To BDT"}),(0,s.jsx)(U.TableHead,{className:"w-[50px]",children:"Actions"})]})}),(0,s.jsx)(U.TableBody,{children:0===a.length?(0,s.jsx)(U.TableRow,{children:(0,s.jsx)(U.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No currencies found"})}):a.map(e=>(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(U.TableCell,{className:"font-medium",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{children:e.symbol})})}),(0,s.jsx)(U.TableCell,{className:"font-medium",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{children:e.code})})}),(0,s.jsx)(U.TableCell,{className:"font-medium",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{children:e.name})})}),(0,s.jsx)(U.TableCell,{className:"font-medium",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{children:e.exchangeRateToBDT})})}),(0,s.jsx)(U.TableCell,{children:(0,s.jsxs)(R.DropdownMenu,{children:[(0,s.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(L.MoreHorizontal,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>n(e),children:[(0,s.jsx)(P.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>i(e.id),className:"text-destructive",children:[(0,s.jsx)(K.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})})}),d>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(c-1)*m+1," to ",x," of ",u," currencies"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>o(1),disabled:1===c,children:[(0,s.jsx)(q.ChevronsLeft,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>o(c-1),disabled:1===c,children:[(0,s.jsx)(E.ChevronLeft,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,d)},(e,a)=>{let r=Math.max(1,Math.min(d-4,c-2))+a;return(0,s.jsx)(t.Button,{variant:c===r?"default":"outline",size:"sm",onClick:()=>o(r),className:"w-8 h-8 p-0",children:r},r)})}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>o(c+1),disabled:c===d,children:[(0,s.jsx)(F.ChevronRight,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:()=>o(d),disabled:c===d,children:[(0,s.jsx)(A.ChevronsRight,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let I=e=>{let{handleEditCurrency:a,handleDeleteCurrency:r,setFilteredCurrencies:t,filteredCurrencies:l,currencies:n}=e,[i,c]=(0,h.useState)(1),[d]=(0,h.useState)(10),[o,u]=(0,h.useState)({search:""}),[m,x]=(0,h.useState)({field:"name",direction:"asc"});(0,h.useEffect)(()=>{j()},[n,o,m]);let j=()=>{let e=[...n||[]];if(o.search){let s=o.search.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s))}e.sort((e,s)=>{let a=e[m.field]||"",r=s[m.field]||"";return"string"==typeof a&&"string"==typeof r?"asc"===m.direction?a.localeCompare(r):r.localeCompare(a):0}),t(e),c(1)},f=Math.ceil(l.length/d),y=(i-1)*d,g=l.slice(y,y+d);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(D.Card,{children:[(0,s.jsxs)(D.CardHeader,{children:[(0,s.jsxs)(D.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(M.Filter,{className:"h-5 w-5"}),"Search & Filter"]}),(0,s.jsx)(D.CardDescription,{children:"Search for currencies by name"})]}),(0,s.jsx)(D.CardContent,{children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(k.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(B.Input,{placeholder:"Search currencies...",value:o.search,onChange:e=>{var s;return s=e.target.value,void u(e=>({...e,search:s}))},className:"pl-10"})]})})]}),(0,s.jsx)(O,{currencies:g,sort:m,onSort:e=>{x(s=>({field:e,direction:s.field===e&&"asc"===s.direction?"desc":"asc"}))},onEdit:a,onDelete:r,currentPage:i,totalPages:f,onPageChange:c,totalItems:l.length,itemsPerPage:d})]})},V=()=>{var e;let{data:i,isFetching:j}=(0,n.default)({queryKey:["currencies"],queryFn:d.getCurrencies}),[f,y]=(0,h.useState)(!1),[g,p]=(0,h.useState)(null),[C,v]=(0,h.useState)([]),{mutateAsync:N}=(0,l.useSkillMutation)({mutationFn:e=>c(e),queryKey:["currencies"]}),b=async e=>{let s=x.toast.loading("Deleting team...");(await N({id:e})).success?x.toast.success("Currency deleted successfully!",{id:s}):x.toast.dismiss(s)};return j||(null==i?void 0:i.success)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)(r.Badge,{variant:"secondary",className:"text-sm",children:[C.length," Currencies"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(o.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,s.jsxs)(t.Button,{onClick:()=>{p(null),y(!0)},size:"sm",children:[(0,s.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Add Currency"]})]})]}),(0,s.jsx)(I,{currencies:i.data,handleDeleteCurrency:b,handleEditCurrency:e=>{p(e),y(!0)},filteredCurrencies:C,setFilteredCurrencies:v}),(0,s.jsx)(S,{isOpen:f,onClose:()=>y(!1),currency:g})]}):(0,s.jsx)(a.default,{message:null!=(e=null==i?void 0:i.message)?e:"Failed to fetch currencies",status:100})}}]);