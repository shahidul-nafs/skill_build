(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24228,e=>{"use strict";e.s(["default",()=>tP,"serviceOptions",()=>tI,"statusOptions",()=>tE],24228);var t=e.i(43476),r=e.i(87486),a=e.i(19455),s=e.i(33989),l=e.i(95187),n=(0,l.createServerReference)("7fdc144e177c4986e9626cb066a3a59f7080bce702",l.callServer,void 0,l.findSourceMapURL,"getPagedJobs"),i=e.i(97764),d=e.i(2531),c=e.i(40160),o=e.i(7233),u=e.i(71645),m=e.i(33129),x=e.i(15288),h=e.i(76639),f=e.i(93479),p=e.i(10204),v=e.i(59684),j=e.i(67489),g=e.i(91825),b=e.i(43429),N=(0,l.createServerReference)("7f805444e033ee7aa928029eb58053ea4c40216568",l.callServer,void 0,l.findSourceMapURL,"createJob"),y=(0,l.createServerReference)("7f97352ff1a58a05869af150524e864240edb13dbf",l.callServer,void 0,l.findSourceMapURL,"getJobDeliveryTypes"),C=(0,l.createServerReference)("7fc907e8754cc05b6e3c15c5256f0fac480a79dc30",l.callServer,void 0,l.findSourceMapURL,"getJobStatuses"),w=(0,l.createServerReference)("7fc5e462ed59646b228fb33d2932ddc800b4de75c5",l.callServer,void 0,l.findSourceMapURL,"getJobTypes"),k=(0,l.createServerReference)("7ffa4aff18dd0096359022781e7d291f2ef0ad9d48",l.callServer,void 0,l.findSourceMapURL,"getJobWorkFlowStatuses"),S=(0,l.createServerReference)("7fcf1a0efe0c5ebb9c953a57b8125f2a9bb2a61617",l.callServer,void 0,l.findSourceMapURL,"updateJob"),D=e.i(39979),T=e.i(85796),I=e.i(81307);let E=I.z.object({mainFolderPath:I.z.string().min(1,"Main FolderPath is required"),inputCount:I.z.number().int().min(1,"Input Count must be at least 1"),vendor:I.z.string().min(1,"Vendor is required"),unitPrice:I.z.number().min(1,"Unit Price must be at least 1"),lockTime:I.z.number().min(1,"Lock Time is required"),modifiedTime:I.z.number().min(1,"Modified Time is required"),incomingDate:I.z.date({error:"Incoming Date is required"}),deliveryDate:I.z.date({error:"Delivery Date is required"}),deliveryTime:I.z.date({error:"Delivery Time is required"}),deliveryType:I.z.number().min(0,"Delivery Type is required"),status:I.z.number().min(0,"Status is required"),workflowStatus:I.z.number().min(0,"Workflow Status is required"),proDone:I.z.boolean(),qcDone:I.z.boolean(),clientId:I.z.string().min(1,"Client is required"),jobTypeId:I.z.string().min(1,"Job Type is required")}),P={mainFolderPath:"",inputCount:0,vendor:"",unitPrice:0,lockTime:0,modifiedTime:0,incomingDate:void 0,deliveryDate:void 0,deliveryTime:void 0,deliveryType:-1,status:-1,workflowStatus:-1,proDone:!1,qcDone:!1,clientId:"",jobTypeId:""};var R=e.i(94814),M=e.i(21557),F=e.i(75254);let A=(0,F.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var q=e.i(53145),z=e.i(46696),L=e.i(20783),B=e.i(30030),V=e.i(81140),H=e.i(69340),J=e.i(99682),O=e.i(35804),U=e.i(96626),K=e.i(48425),_="Checkbox",[W,X]=(0,B.createContextScope)(_),[G,Q]=W(_);function Z(e){let{__scopeCheckbox:r,checked:a,children:s,defaultChecked:l,disabled:n,form:i,name:d,onCheckedChange:c,required:o,value:m="on",internal_do_not_use_render:x}=e,[h,f]=(0,H.useControllableState)({prop:a,defaultProp:null!=l&&l,onChange:c,caller:_}),[p,v]=u.useState(null),[j,g]=u.useState(null),b=u.useRef(!1),N=!p||!!i||!!p.closest("form"),y={checked:h,disabled:n,setChecked:f,control:p,setControl:v,name:d,form:i,value:m,hasConsumerStoppedPropagationRef:b,required:o,defaultChecked:!el(l)&&l,isFormControl:N,bubbleInput:j,setBubbleInput:g};return(0,t.jsx)(G,{scope:r,...y,children:"function"==typeof x?x(y):s})}var Y="CheckboxTrigger",$=u.forwardRef((e,r)=>{let{__scopeCheckbox:a,onKeyDown:s,onClick:l,...n}=e,{control:i,value:d,disabled:c,checked:o,required:m,setControl:x,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:v}=Q(Y,a),j=(0,L.useComposedRefs)(r,x),g=u.useRef(o);return u.useEffect(()=>{let e=null==i?void 0:i.form;if(e){let t=()=>h(g.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[i,h]),(0,t.jsx)(K.Primitive.button,{type:"button",role:"checkbox","aria-checked":el(o)?"mixed":o,"aria-required":m,"data-state":en(o),"data-disabled":c?"":void 0,disabled:c,value:d,...n,ref:j,onKeyDown:(0,V.composeEventHandlers)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,V.composeEventHandlers)(l,e=>{h(e=>!!el(e)||!e),v&&p&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});$.displayName=Y;var ee=u.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:s,checked:l,defaultChecked:n,required:i,disabled:d,value:c,onCheckedChange:o,form:u,...m}=e;return(0,t.jsx)(Z,{__scopeCheckbox:a,checked:l,defaultChecked:n,disabled:d,required:i,onCheckedChange:o,name:s,form:u,value:c,internal_do_not_use_render:e=>{let{isFormControl:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($,{...m,ref:r,__scopeCheckbox:a}),s&&(0,t.jsx)(es,{__scopeCheckbox:a})]})}})});ee.displayName=_;var et="CheckboxIndicator",er=u.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:s,...l}=e,n=Q(et,a);return(0,t.jsx)(U.Presence,{present:s||el(n.checked)||!0===n.checked,children:(0,t.jsx)(K.Primitive.span,{"data-state":en(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:r,style:{pointerEvents:"none",...e.style}})})});er.displayName=et;var ea="CheckboxBubbleInput",es=u.forwardRef((e,r)=>{let{__scopeCheckbox:a,...s}=e,{control:l,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:d,required:c,disabled:o,name:m,value:x,form:h,bubbleInput:f,setBubbleInput:p}=Q(ea,a),v=(0,L.useComposedRefs)(r,p),j=(0,J.usePrevious)(i),g=(0,O.useSize)(l);u.useEffect(()=>{if(!f)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!n.current;if(j!==i&&e){let r=new Event("click",{bubbles:t});f.indeterminate=el(i),e.call(f,!el(i)&&i),f.dispatchEvent(r)}},[f,j,i,n]);let b=u.useRef(!el(i)&&i);return(0,t.jsx)(K.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:b.current,required:c,disabled:o,name:m,value:x,form:h,...s,tabIndex:-1,ref:v,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function el(e){return"indeterminate"===e}function en(e){return el(e)?"indeterminate":e?"checked":"unchecked"}es.displayName=ea;var ei=e.i(78784),ed=e.i(75157);function ec(e){let{className:r,...a}=e;return(0,t.jsx)(ee,{"data-slot":"checkbox",className:(0,ed.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,t.jsx)(er,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(ei.CheckIcon,{className:"size-3.5"})})})}let eo=e=>{let{errors:r,setValue:a,label:s,id:l,helperText:n,defaultChecked:i}=e,d=r[l];return(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(ec,{id:l,className:d?"border-destructive":"",defaultChecked:i,onCheckedChange:e=>{a(l,!!e,{shouldValidate:!0})}}),(0,t.jsx)(p.Label,{htmlFor:l,children:s}),d&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:d.message}),n&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})};var eu=e.i(78745),eu=eu;let em=(0,F.default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var ex=/[\\\/_+.#"@\[\(\{&]/,eh=/[\\\/_+.#"@\[\(\{&]/g,ef=/[\s-]/,ep=/[\s-]/g;function ev(e){return e.toLowerCase().replace(ep," ")}var ej=e.i(26999),eg=e.i(10772),eb='[cmdk-group=""]',eN='[cmdk-group-items=""]',ey='[cmdk-item=""]',eC="".concat(ey,':not([aria-disabled="true"])'),ew="cmdk-item-select",ek="data-value",eS=(e,t,r)=>(function(e,t,r){return function e(t,r,a,s,l,n,i){if(n===r.length)return l===t.length?1:.99;var d="".concat(l,",").concat(n);if(void 0!==i[d])return i[d];for(var c,o,u,m,x=s.charAt(n),h=a.indexOf(x,l),f=0;h>=0;)(c=e(t,r,a,s,h+1,n+1,i))>f&&(h===l?c*=1:ex.test(t.charAt(h-1))?(c*=.8,(u=t.slice(l,h-1).match(eh))&&l>0&&(c*=Math.pow(.999,u.length))):ef.test(t.charAt(h-1))?(c*=.9,(m=t.slice(l,h-1).match(ep))&&l>0&&(c*=Math.pow(.999,m.length))):(c*=.17,l>0&&(c*=Math.pow(.999,h-l))),t.charAt(h)!==r.charAt(n)&&(c*=.9999)),(c<.1&&a.charAt(h-1)===s.charAt(n+1)||s.charAt(n+1)===s.charAt(n)&&a.charAt(h-1)!==s.charAt(n))&&.1*(o=e(t,r,a,s,h+1,n+2,i))>c&&(c=.1*o),c>f&&(f=c),h=a.indexOf(x,h+1);return i[d]=f,f}(e=r&&r.length>0?"".concat(e+" "+r.join(" ")):e,t,ev(e),ev(t),0,0,{})})(e,t,r),eD=u.createContext(void 0),eT=()=>u.useContext(eD),eI=u.createContext(void 0),eE=()=>u.useContext(eI),eP=u.createContext(void 0),eR=u.forwardRef((e,t)=>{let r=eJ(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=eJ(()=>new Set),s=eJ(()=>new Map),l=eJ(()=>new Map),n=eJ(()=>new Set),i=eV(e),{label:d,children:c,value:o,onValueChange:m,filter:x,shouldFilter:h,loop:f,disablePointerSelection:p=!1,vimBindings:v=!0,...j}=e,g=(0,eg.useId)(),b=(0,eg.useId)(),N=(0,eg.useId)(),y=u.useRef(null),C=eK();eH(()=>{if(void 0!==o){let e=o.trim();r.current.value=e,w.emit()}},[o]),eH(()=>{C(6,E)},[]);let w=u.useMemo(()=>({subscribe:e=>(n.current.add(e),()=>n.current.delete(e)),snapshot:()=>r.current,setState:(e,t,a)=>{var s,l,n,d;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)I(),D(),C(1,T);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(N);e?e.focus():null==(s=document.getElementById(g))||s.focus()}if(C(7,()=>{var e;r.current.selectedItemId=null==(e=P())?void 0:e.id,w.emit()}),a||C(5,E),(null==(l=i.current)?void 0:l.value)!==void 0){null==(d=(n=i.current).onValueChange)||d.call(n,null!=t?t:"");return}}w.emit()}},emit:()=>{n.current.forEach(e=>e())}}),[]),k=u.useMemo(()=>({value:(e,t,a)=>{var s;t!==(null==(s=l.current.get(e))?void 0:s.value)&&(l.current.set(e,{value:t,keywords:a}),r.current.filtered.items.set(e,S(t,a)),C(2,()=>{D(),w.emit()}))},item:(e,t)=>(a.current.add(e),t&&(s.current.has(t)?s.current.get(t).add(e):s.current.set(t,new Set([e]))),C(3,()=>{I(),D(),r.current.value||T(),w.emit()}),()=>{l.current.delete(e),a.current.delete(e),r.current.filtered.items.delete(e);let t=P();C(4,()=>{I(),(null==t?void 0:t.getAttribute("id"))===e&&T(),w.emit()})}),group:e=>(s.current.has(e)||s.current.set(e,new Set),()=>{l.current.delete(e),s.current.delete(e)}),filter:()=>i.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:g,inputId:N,labelId:b,listInnerRef:y}),[]);function S(e,t){var a,s;let l=null!=(s=null==(a=i.current)?void 0:a.filter)?s:eS;return e?l(e,r.current.search,t):0}function D(){if(!r.current.search||!1===i.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let a=s.current.get(r),l=0;a.forEach(t=>{l=Math.max(e.get(t),l)}),t.push([r,l])});let a=y.current;R().sort((t,r)=>{var a,s;let l=t.getAttribute("id"),n=r.getAttribute("id");return(null!=(a=e.get(n))?a:0)-(null!=(s=e.get(l))?s:0)}).forEach(e=>{let t=e.closest(eN);t?t.appendChild(e.parentElement===t?e:e.closest("".concat(eN," > *"))):a.appendChild(e.parentElement===a?e:e.closest("".concat(eN," > *")))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=y.current)?void 0:t.querySelector("".concat(eb,"[").concat(ek,'="').concat(encodeURIComponent(e[0]),'"]'));null==r||r.parentElement.appendChild(r)})}function T(){let e=R().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(ek);w.setState("value",t||void 0)}function I(){var e,t,n,d;if(!r.current.search||!1===i.current.shouldFilter){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let c=0;for(let s of a.current){let a=S(null!=(t=null==(e=l.current.get(s))?void 0:e.value)?t:"",null!=(d=null==(n=l.current.get(s))?void 0:n.keywords)?d:[]);r.current.filtered.items.set(s,a),a>0&&c++}for(let[e,t]of s.current)for(let a of t)if(r.current.filtered.items.get(a)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=c}function E(){var e,t,r;let a=P();a&&((null==(e=a.parentElement)?void 0:e.firstChild)===a&&(null==(r=null==(t=a.closest(eb))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function P(){var e;return null==(e=y.current)?void 0:e.querySelector("".concat(ey,'[aria-selected="true"]'))}function R(){var e;return Array.from((null==(e=y.current)?void 0:e.querySelectorAll(eC))||[])}function M(e){let t=R()[e];t&&w.setState("value",t.getAttribute(ek))}function F(e){var t;let r=P(),a=R(),s=a.findIndex(e=>e===r),l=a[s+e];null!=(t=i.current)&&t.loop&&(l=s+e<0?a[a.length-1]:s+e===a.length?a[0]:a[s+e]),l&&w.setState("value",l.getAttribute(ek))}function A(e){let t=P(),r=null==t?void 0:t.closest(eb),a;for(;r&&!a;)a=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,eb):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,eb))?void 0:r.querySelector(eC);a?w.setState("value",a.getAttribute(ek)):F(e)}let q=()=>M(R().length-1),z=e=>{e.preventDefault(),e.metaKey?q():e.altKey?A(1):F(1)},L=e=>{e.preventDefault(),e.metaKey?M(0):e.altKey?A(-1):F(-1)};return u.createElement(K.Primitive.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=j.onKeyDown)||t.call(j,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":v&&e.ctrlKey&&z(e);break;case"ArrowDown":z(e);break;case"p":case"k":v&&e.ctrlKey&&L(e);break;case"ArrowUp":L(e);break;case"Home":e.preventDefault(),M(0);break;case"End":e.preventDefault(),q();break;case"Enter":{e.preventDefault();let t=P();if(t){let e=new Event(ew);t.dispatchEvent(e)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:eW},d),e_(e,e=>u.createElement(eI.Provider,{value:w},u.createElement(eD.Provider,{value:k},e))))}),eM=u.forwardRef((e,t)=>{var r,a;let s=(0,eg.useId)(),l=u.useRef(null),n=u.useContext(eP),i=eT(),d=eV(e),c=null!=(a=null==(r=d.current)?void 0:r.forceMount)?a:null==n?void 0:n.forceMount;eH(()=>{if(!c)return i.item(s,null==n?void 0:n.id)},[c]);let o=eU(s,l,[e.value,e.children,l],e.keywords),m=eE(),x=eO(e=>e.value&&e.value===o.current),h=eO(e=>!!c||!1===i.filter()||!e.search||e.filtered.items.get(s)>0);function f(){var e,t;p(),null==(t=(e=d.current).onSelect)||t.call(e,o.current)}function p(){m.setState("value",o.current,!0)}if(u.useEffect(()=>{let t=l.current;if(!(!t||e.disabled))return t.addEventListener(ew,f),()=>t.removeEventListener(ew,f)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:v,value:j,onSelect:g,forceMount:b,keywords:N,...y}=e;return u.createElement(K.Primitive.div,{ref:(0,L.composeRefs)(l,t),...y,id:s,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!x,"data-disabled":!!v,"data-selected":!!x,onPointerMove:v||i.getDisablePointerSelection()?void 0:p,onClick:v?void 0:f},e.children)}),eF=u.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:s,...l}=e,n=(0,eg.useId)(),i=u.useRef(null),d=u.useRef(null),c=(0,eg.useId)(),o=eT(),m=eO(e=>!!s||!1===o.filter()||!e.search||e.filtered.groups.has(n));eH(()=>o.group(n),[]),eU(n,i,[e.value,e.heading,d]);let x=u.useMemo(()=>({id:n,forceMount:s}),[s]);return u.createElement(K.Primitive.div,{ref:(0,L.composeRefs)(i,t),...l,"cmdk-group":"",role:"presentation",hidden:!m||void 0},r&&u.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),e_(e,e=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},u.createElement(eP.Provider,{value:x},e))))}),eA=u.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,s=u.useRef(null),l=eO(e=>!e.search);return r||l?u.createElement(K.Primitive.div,{ref:(0,L.composeRefs)(s,t),...a,"cmdk-separator":"",role:"separator"}):null}),eq=u.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,s=null!=e.value,l=eE(),n=eO(e=>e.search),i=eO(e=>e.selectedItemId),d=eT();return u.useEffect(()=>{null!=e.value&&l.setState("search",e.value)},[e.value]),u.createElement(K.Primitive.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":i,id:d.inputId,type:"text",value:s?e.value:n,onChange:e=>{s||l.setState("search",e.target.value),null==r||r(e.target.value)}})}),ez=u.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...s}=e,l=u.useRef(null),n=u.useRef(null),i=eO(e=>e.selectedItemId),d=eT();return u.useEffect(()=>{if(n.current&&l.current){let e=n.current,t=l.current,r,a=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return a.observe(e),()=>{cancelAnimationFrame(r),a.unobserve(e)}}},[]),u.createElement(K.Primitive.div,{ref:(0,L.composeRefs)(l,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":a,id:d.listId},e_(e,e=>u.createElement("div",{ref:(0,L.composeRefs)(n,d.listInnerRef),"cmdk-list-sizer":""},e)))}),eL=u.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:s,contentClassName:l,container:n,...i}=e;return u.createElement(ej.Root,{open:r,onOpenChange:a},u.createElement(ej.Portal,{container:n},u.createElement(ej.Overlay,{"cmdk-overlay":"",className:s}),u.createElement(ej.Content,{"aria-label":e.label,"cmdk-dialog":"",className:l},u.createElement(eR,{ref:t,...i}))))}),eB=Object.assign(eR,{List:ez,Item:eM,Input:eq,Group:eF,Separator:eA,Dialog:eL,Empty:u.forwardRef((e,t)=>eO(e=>0===e.filtered.count)?u.createElement(K.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:u.forwardRef((e,t)=>{let{progress:r,children:a,label:s="Loading...",...l}=e;return u.createElement(K.Primitive.div,{ref:t,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},e_(e,e=>u.createElement("div",{"aria-hidden":!0},e)))})});function eV(e){let t=u.useRef(e);return eH(()=>{t.current=e}),t}var eH="undefined"==typeof window?u.useEffect:u.useLayoutEffect;function eJ(e){let t=u.useRef();return void 0===t.current&&(t.current=e()),t}function eO(e){let t=eE(),r=()=>e(t.snapshot());return u.useSyncExternalStore(t.subscribe,r,r)}function eU(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=u.useRef(),l=eT();return eH(()=>{var n;let i=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():s.current}})(),d=a.map(e=>e.trim());l.value(e,i,d),null==(n=t.current)||n.setAttribute(ek,i),s.current=i}),s}var eK=()=>{let[e,t]=u.useState(),r=eJ(()=>new Map);return eH(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,a)=>{r.current.set(e,a),t({})}};function e_(e,t){let r,{asChild:a,children:s}=e;return a&&u.isValidElement(s)?u.cloneElement("function"==typeof(r=s.type)?r(s.props):"render"in r?r.render(s.props):s,{ref:s.ref},t(s.props.children)):t(s)}var eW={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},eX=e.i(54943),eX=eX;function eG(e){let{className:r,...a}=e;return(0,t.jsx)(eB,{"data-slot":"command",className:(0,ed.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",r),...a})}function eQ(e){let{className:r,...a}=e;return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(eX.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(eB.Input,{"data-slot":"command-input",className:(0,ed.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",r),...a})]})}function eZ(e){let{className:r,...a}=e;return(0,t.jsx)(eB.List,{"data-slot":"command-list",className:(0,ed.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",r),...a})}function eY(e){let{...r}=e;return(0,t.jsx)(eB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...r})}function e$(e){let{className:r,...a}=e;return(0,t.jsx)(eB.Group,{"data-slot":"command-group",className:(0,ed.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",r),...a})}function e0(e){let{className:r,...a}=e;return(0,t.jsx)(eB.Item,{"data-slot":"command-item",className:(0,ed.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...a})}var e1=e.i(37822);let e2=e=>{var r;let{label:s,id:l,placeholder:n,setValue:i,errors:d,defaultValue:c,options:o}=e,[m,x]=(0,u.useState)(!1),[h,f]=(0,u.useState)(c),v=d[l];return(0,t.jsxs)(e1.Popover,{open:m,onOpenChange:x,children:[(0,t.jsx)(p.Label,{children:s}),(0,t.jsx)(e1.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",role:"combobox","aria-expanded":m,className:(0,ed.cn)("w-full justify-between text-left font-normal my-2",v&&"border-destructive"),children:[h?null==o||null==(r=o.find(e=>e.value===h))?void 0:r.label:n||"Select ".concat(s),(0,t.jsx)(em,{className:"opacity-50"})]})}),(0,t.jsx)(e1.PopoverContent,{className:"w-fit p-0",children:(0,t.jsxs)(eG,{children:[(0,t.jsx)(eQ,{placeholder:"Search option...",className:"h-9"}),(0,t.jsxs)(eZ,{children:[(0,t.jsx)(eY,{children:"No option found."}),(0,t.jsx)(e$,{children:null==o?void 0:o.map(e=>(0,t.jsxs)(e0,{value:e.value,onSelect:e=>{f(e===h?"":e),i(l,e),x(!1)},children:[e.label,(0,t.jsx)(eu.default,{className:(0,ed.cn)("ml-auto",h===e.value?"opacity-100":"opacity-0")})]},e.value))})]})]})}),v&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:v.message})]})};var e4=e.i(16090),e5=e.i(46087),e3=e.i(22617);let e9=e=>{let{setValue:r,label:a,id:s,errors:l,helperText:n,...i}=e,d=l[s];return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:s,children:a}),(0,t.jsx)(f.Input,{id:s,type:"time",className:d?"border-destructive":"",onChange:e=>{let[t,a]=e.target.value.split(":").map(Number),l=new Date;l.setHours(t||0),l.setMinutes(a||0),l.setSeconds(0),l.setMilliseconds(0),r(s,l,{shouldValidate:!0})},...i}),d&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:d.message}),n&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})},e8=e=>{var r,l,n,i;let{isOpen:d,onClose:c,job:o}=e,{register:m,handleSubmit:I,reset:F,setValue:L,watch:B,formState:{errors:V,isSubmitting:H}}=(0,q.useForm)({resolver:(0,R.zodResolver)(E)}),{data:J}=(0,s.default)({queryKey:["clients"],queryFn:()=>(0,b.getClients)()}),{data:O}=(0,s.default)({queryKey:["jobTypes"],queryFn:()=>w()}),{data:U}=(0,s.default)({queryKey:["jobStatuses"],queryFn:()=>C()}),{data:K}=(0,s.default)({queryKey:["jobWorkflowStatuses"],queryFn:()=>k()}),{data:_}=(0,s.default)({queryKey:["jobDeliveryTypes"],queryFn:()=>y()}),{mutateAsync:W}=(0,g.useSkillMutation)({queryKey:["jobs"],mutationFn:e=>N(e),onClose:c}),{mutateAsync:X}=(0,g.useSkillMutation)({queryKey:["jobs"],mutationFn:e=>{let{job:t,id:r}=e;return S({job:t,id:r})},onClose:c}),[G,Q]=(0,u.useState)(void 0),[Z,Y]=(0,u.useState)(void 0),[$,ee,et,er,ea]=B(["mainFolderPath","unitPrice","inputCount","lockTime","clientId"]);(0,u.useEffect)(()=>{o?(F(o),Q((0,T.toBangladeshTime)(o.incomingDate)),Y((0,T.toBangladeshTime)(o.deliveryDate)),L("incomingDate",(0,T.toBangladeshTime)(o.incomingDate)||new Date),L("deliveryDate",(0,T.toBangladeshTime)(o.deliveryDate)||new Date),L("deliveryTime",(0,T.toBangladeshTime)(o.deliveryTime)||new Date)):F(P)},[o,d,F,L]);let es=async e=>{let t=z.toast.loading("Saving...");try{o?(await X({job:e,id:o.id})).success&&z.toast.success("Job updated successfully!",{id:t}):(await W(e)).success&&z.toast.success("Job created successfully!",{id:t})}catch(e){console.error(e)}setTimeout(()=>{z.toast.dismiss(t)},3e3)},el=()=>{c()},en=e=>{let{field:t,date:r}=e;"incomingDate"===t?Q(r):Y(r)},ei="";if($){let e=$.split(/[/\\]/);ei=e[e.length-1]}let ed=null==J||null==(r=J.data.find(e=>e.id===ea))?void 0:r.currency;return(0,t.jsx)(h.Dialog,{open:d,onOpenChange:el,children:(0,t.jsxs)(h.DialogContent,{className:"min-w-[80vw] lg:min-w-5xl",children:[(0,t.jsxs)(h.DialogHeader,{children:[(0,t.jsx)(h.DialogTitle,{children:o?"Edit Job":"Create New Job"}),(0,t.jsx)(h.DialogDescription,{children:o?"Update job information":"Enter job details to create a new job."})]}),(0,t.jsx)(v.ScrollArea,{className:"max-h-[70vh] pr-6",children:(0,t.jsxs)("form",{className:"space-y-6",children:[(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Client Information"}),(0,t.jsx)(x.CardDescription,{children:"Enter client code to identify the client"})]}),(0,t.jsx)(x.CardContent,{children:(0,t.jsx)(e2,{id:"clientId",label:"Select Client",options:null==J?void 0:J.data.map(e=>({value:e.id,label:e.sgCode})),setValue:L,errors:V,defaultValue:null==o?void 0:o.clientId})})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(A,{className:"h-5 w-5"}),"Folder Information"]}),(0,t.jsx)(x.CardDescription,{children:"Configure file paths and folder structure"})]}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(e5.default,{register:m,errors:V,id:"mainFolderPath",label:"Folder Path",placeholder:"\\DOTNET\\Infrastructure or /clients/projects/folder",helperText:"Supports both Windows (\\) and Unix (/) path separators"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"folderName",children:"Folder Name / Job Code"}),(0,t.jsx)(f.Input,{id:"folderName",readOnly:!0,value:ei,placeholder:"Last directory from file path",className:"bg-muted"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically extracted from the last directory in file path"})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Job Details"}),(0,t.jsx)(x.CardDescription,{children:"Configure job type, services, and file counts"})]}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(e3.default,{setValue:L,errors:V,id:"jobTypeId",label:"Job Type",defaultValue:null==o?void 0:o.jobTypeId,children:null==O?void 0:O.data.map(e=>(0,t.jsx)(j.SelectItem,{value:e.id,children:e.name},e.id))}),(0,t.jsx)(e5.default,{register:m,errors:V,id:"vendor",label:"Vendor"}),(0,t.jsx)(e5.default,{register:m,errors:V,id:"inputCount",label:"Input Files",valueAsNumber:!0}),(0,t.jsx)(e5.default,{register:m,errors:V,id:"unitPrice",label:"Unit Price",valueAsNumber:!0})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Time Information"}),(0,t.jsx)(x.CardDescription,{children:"Configure time-related fields (in numerical format)"})]}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(e5.default,{register:m,errors:V,id:"lockTime",label:"Lock Time",valueAsNumber:!0}),(0,t.jsx)(e5.default,{register:m,errors:V,id:"modifiedTime",label:"Modified Time",valueAsNumber:!0})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Schedule Information"}),(0,t.jsx)(x.CardDescription,{children:"Set incoming and delivery dates"})]}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(e4.default,{errors:V,setValue:L,id:"incomingDate",label:"Incoming Date",dateValue:G,handleDateChange:en}),(0,t.jsx)(e4.default,{errors:V,setValue:L,id:"deliveryDate",label:"Delivery Date",dateValue:Z,handleDateChange:en}),(0,t.jsx)(e9,{setValue:L,errors:V,id:"deliveryTime",label:"Delivery Time",type:"time",step:"1"}),(0,t.jsx)(e3.default,{setValue:L,errors:V,id:"deliveryType",label:"Delivery Type",defaultValue:null==o||null==(l=o.deliveryType)?void 0:l.toString(),valueAsNumber:!0,children:null==_?void 0:_.data.map(e=>(0,t.jsx)(j.SelectItem,{value:e.value.toString(),children:e.name},e.value))})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Status Information"}),(0,t.jsx)(x.CardDescription,{children:"Configure job status and progress"})]}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(e3.default,{setValue:L,errors:V,id:"status",label:"Status",defaultValue:null==o||null==(n=o.status)?void 0:n.toString(),valueAsNumber:!0,children:null==U?void 0:U.data.map(e=>(0,t.jsx)(j.SelectItem,{value:e.value.toString(),children:e.name},e.value))}),(0,t.jsx)(e3.default,{setValue:L,errors:V,id:"workflowStatus",label:"Status (Workflow)",defaultValue:null==o||null==(i=o.workflowStatus)?void 0:i.toString(),valueAsNumber:!0,children:null==K?void 0:K.data.map(e=>(0,t.jsx)(j.SelectItem,{value:e.value.toString(),children:e.name},e.value))}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(eo,{setValue:L,errors:V,label:"Production Done",id:"proDone",defaultChecked:null==o?void 0:o.proDone})}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(eo,{setValue:L,errors:V,label:"QC Done",id:"qcDone",defaultChecked:null==o?void 0:o.qcDone})})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(M.Calculator,{className:"h-5 w-5"}),"Calculated Information"]}),(0,t.jsx)(x.CardDescription,{children:"Auto-calculated values based on input data"})]}),(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{children:"Total Time (Minutes)"}),(0,t.jsxs)("div",{className:"p-3 bg-muted rounded-md",children:[(0,t.jsx)("span",{className:"font-mono text-lg",children:(Number(et)||0)*(Number(er)||0)}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground ml-2",children:"minutes"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{children:"Estimated Total Cost"}),(0,t.jsx)("div",{className:"p-3 bg-muted rounded-md",children:(0,t.jsxs)("span",{className:"font-mono text-lg",children:[(Number(ee)||0)*(Number(et)||0)," ",(0,D.formatCurrency)(ed)]})})]})]})})]})]})}),(0,t.jsxs)(h.DialogFooter,{children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",onClick:el,children:"Cancel"}),(0,t.jsx)(a.Button,{type:"submit",onClick:I(es),disabled:H,children:o?"Update Job":"Create Job"})]})]})})},e6=(0,F.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var e7=e.i(87316),te=e.i(69638),tt=e.i(3116),tr=e.i(12426),ta=e.i(78583);let ts=(0,F.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),tl=(0,F.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),tn=(0,F.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var ti=e.i(84614),td=e.i(73884);function tc(e){var s,l;let{isOpen:n,onClose:i,job:d,onEdit:c}=e;if(!d)return null;let o=e=>null==e?"Not set":e.toString(),u=d.mainFolderPath.split("/")||"Not set",m=u[u.length-1]||"Not set";return(0,t.jsx)(h.Dialog,{open:n,onOpenChange:i,children:(0,t.jsxs)(h.DialogContent,{className:"min-w-[800px] lg:min-w-5xl",children:[(0,t.jsxs)(h.DialogHeader,{children:[(0,t.jsxs)(h.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(ta.FileText,{className:"h-5 w-5"}),"Job Details - ",m]}),(0,t.jsxs)(h.DialogDescription,{children:["Complete information for job ID: ",d.id]})]}),(0,t.jsx)(v.ScrollArea,{className:"max-h-[70vh] pr-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsx)(x.CardTitle,{className:"text-lg flex items-center justify-between",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(ti.User,{className:"h-5 w-5"}),"Client & Basic Information"]})})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Client Code"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(r.Badge,{variant:"outline",children:d.clientId})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Currency"}),(0,t.jsx)(r.Badge,{variant:"secondary",children:(null==(l=d.client)||null==(s=l.currency)?void 0:s.name)||"USD"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Job Type"}),(0,t.jsx)(r.Badge,{variant:"outline",children:d.jobTypeId})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Vendor"}),(0,t.jsx)("p",{className:"text-sm",children:d.vendor||"Not assigned"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Type"}),(0,t.jsx)(r.Badge,{children:d.deliveryType})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Status Text"}),(0,t.jsx)("p",{className:"text-sm",children:d.status||"Not set"})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(A,{className:"h-5 w-5"}),"File Information"]})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"File Path"}),(0,t.jsx)("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:d.mainFolderPath})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Folder Name"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:m})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Input Files"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ts,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:o(d.inputCount)})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Output Files"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ts,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:o(d.outputCount)})]})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(tn,{className:"h-5 w-5"}),"Time Information"]})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Lock Time"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:o(d.lockTime)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Modified Time"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:o(d.modifiedTime)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Target Time"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:o(d.targetTime)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Actual Time"}),(0,t.jsx)("p",{className:"text-sm font-mono",children:o(d.actualTime)})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(e7.Calendar,{className:"h-5 w-5"}),"Schedule Information"]})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Incoming Date"}),(0,t.jsx)("p",{className:"text-sm",children:(0,ed.formatDate)(d.incomingDate)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Date"}),(0,t.jsx)("p",{className:"text-sm",children:(0,ed.formatDate)(d.deliveryDate)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Time"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tt.Clock,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm"})]})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(tr.DollarSign,{className:"h-5 w-5"}),"Financial Information"]})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Unit Price"}),(0,t.jsx)("p",{className:"text-sm font-semibold"})]}),null!==d.unitPrice&&null!==d.inputCount&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Total"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-green-600"})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsxs)(x.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,t.jsx)(e6,{className:"h-5 w-5"}),"Progress Information"]})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Production Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[d.proDone?(0,t.jsx)(te.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(td.XCircle,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm",children:d.proDone?"Completed":"Pending"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"QC Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[d.qcDone?(0,t.jsx)(te.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(td.XCircle,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm",children:d.qcDone?"Completed":"Pending"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Time"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tl,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold"})]})]})]})]}),(0,t.jsxs)(x.Card,{children:[(0,t.jsx)(x.CardHeader,{children:(0,t.jsx)(x.CardTitle,{className:"text-lg",children:"Timestamps"})}),(0,t.jsxs)(x.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),(0,t.jsx)("p",{className:"text-sm",children:(0,ed.formatDate)(d.createdAt)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),(0,t.jsx)("p",{className:"text-sm",children:(0,ed.formatDate)(d.updatedAt)})]})]})]})]})}),(0,t.jsxs)(h.DialogFooter,{children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:i,children:"Close"}),c&&(0,t.jsx)(a.Button,{onClick:()=>{c&&c(d),i()},children:"Edit Job"})]})]})})}var to=e.i(87130),tu=e.i(55436),eu=eu;let tm=e=>{var r;let{label:s,placeholder:l,defaultValue:n,onChange:i,options:d}=e,[c,o]=(0,u.useState)(!1),[m,x]=(0,u.useState)(n);return(0,t.jsxs)(e1.Popover,{open:c,onOpenChange:o,children:[(0,t.jsx)(p.Label,{children:s}),(0,t.jsx)(e1.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"outline",role:"combobox","aria-expanded":c,className:(0,ed.cn)("w-full justify-between text-left font-normal"),children:[m?null==d||null==(r=d.find(e=>e.value===m))?void 0:r.label:l||"Select ".concat(s),(0,t.jsx)(em,{className:"opacity-50"})]})}),(0,t.jsx)(e1.PopoverContent,{className:"w-fit p-0",children:(0,t.jsxs)(eG,{children:[(0,t.jsx)(eQ,{placeholder:"Search option...",className:"h-9"}),(0,t.jsxs)(eZ,{children:[(0,t.jsx)(eY,{children:"No option found."}),(0,t.jsx)(e$,{children:null==d?void 0:d.map(e=>(0,t.jsxs)(e0,{value:e.value,onSelect:e=>{x(e===m?"":e),null==i||i(e===m?"":e),o(!1)},children:[e.label,(0,t.jsx)(eu.default,{className:(0,ed.cn)("ml-auto",m===e.value?"opacity-100":"opacity-0")})]},e.value))})]})]})})]})};var tx=e.i(55146),th=e.i(84774),tf=e.i(26679),tp=e.i(64659),tv=e.i(73375),tj=e.i(63059),tg=e.i(19897),tb=e.i(31026),tN=e.i(55900),ty=e.i(88511);let tC=(0,F.default)("file-input",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]),tw=(0,F.default)("file-output",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);var tk=e.i(41071),tS=e.i(27612);function tD(e){let{jobs:l,sort:n,onSort:i,onEdit:d,onDelete:c,onViewDetails:o,currentPage:u,totalPages:m,onPageChange:h,totalItems:f,itemsPerPage:p}=e,{data:v}=(0,s.default)({queryKey:["jobStatuses"],queryFn:()=>C()}),j=e=>{let{field:r,children:s}=e;return(0,t.jsx)(th.TableHead,{children:(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>i(r),children:[s,n.field===r&&("asc"===n.direction?(0,t.jsx)(tN.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,t.jsx)(tp.ChevronDown,{className:"ml-1 h-4 w-4"}))]})})},g=Math.min(u*p,f);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x.Card,{children:(0,t.jsx)(x.CardContent,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(th.Table,{children:[(0,t.jsx)(th.TableHeader,{children:(0,t.jsxs)(th.TableRow,{children:[(0,t.jsx)(j,{field:"clientId",children:"Client Code"}),(0,t.jsx)(j,{field:"jobCode",children:"Job Code"}),(0,t.jsx)(th.TableHead,{children:"Input/Output"}),(0,t.jsx)(j,{field:"incomingDate",children:"Incoming Date"}),(0,t.jsx)(j,{field:"deliveryDate",children:"Delivery"}),(0,t.jsx)(j,{field:"jobType",children:"Job Type"}),(0,t.jsx)(j,{field:"status",children:"Status"}),(0,t.jsx)(j,{field:"unitPrice",children:"Unit Price"}),(0,t.jsx)(j,{field:"actualTime",children:"Total Time (min)"}),(0,t.jsx)(th.TableHead,{children:"Progress"}),(0,t.jsx)(th.TableHead,{className:"w-[50px]",children:"Actions"}),(0,t.jsx)(j,{field:"vendor",children:"Vendor"})]})}),(0,t.jsx)(th.TableBody,{children:0===l.length?(0,t.jsx)(th.TableRow,{children:(0,t.jsx)(th.TableCell,{colSpan:14,className:"text-center py-8 text-muted-foreground",children:"No jobs found"})}):l.map(e=>{var s,l,n;return(0,t.jsxs)(th.TableRow,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:t=>{!(t.target.closest("[data-action-button]")||t.target.closest("[role='menuitem']")||t.target.closest("[data-radix-popper-content-wrapper]"))&&o(e)},children:[(0,t.jsx)(th.TableCell,{children:(0,t.jsx)(r.Badge,{variant:"outline",className:"text-xs w-fit",children:null==(s=e.client)?void 0:s.name})}),(0,t.jsx)(th.TableCell,{className:"font-medium max-w-[200px]",children:(0,t.jsx)("div",{className:"truncate",title:e.mainFolderPath||"No folder name",children:e.jobCode||"-"})}),(0,t.jsx)(th.TableCell,{children:(0,t.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(tC,{className:"h-3 w-3 text-blue-500"}),(0,t.jsxs)("span",{children:["In: ",e.inputCount||0]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(tw,{className:"h-3 w-3 text-green-500"}),(0,t.jsxs)("span",{children:["Out: ",e.outputCount||0]})]})]})}),(0,t.jsx)(th.TableCell,{children:(0,t.jsx)("div",{className:"flex flex-col text-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(e7.Calendar,{className:"h-3 w-3 text-blue-500"}),(0,t.jsx)("span",{children:(0,ed.formatDate)(e.incomingDate)})]})})}),(0,t.jsx)(th.TableCell,{children:(0,t.jsx)("div",{className:"flex flex-col text-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,t.jsx)(tt.Clock,{className:"h-3 w-3"}),(0,ed.formatDate)(e.deliveryDate)||"No time"]})})}),(0,t.jsx)(th.TableCell,{className:"max-w-[150px]",children:(0,t.jsx)("div",{className:"truncate",title:(null==(l=e.jobType)?void 0:l.name)||"No job type",children:(null==(n=e.jobType)?void 0:n.name)||"-"})}),(0,t.jsx)(th.TableCell,{children:(0,t.jsx)(r.Badge,{className:"text-xs",children:(0,tf.default)((null==v?void 0:v.data)||[],e.status)})}),(0,t.jsx)(th.TableCell,{children:e.unitPrice}),(0,t.jsx)(th.TableCell,{className:"font-mono text-sm"}),(0,t.jsx)(th.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.proDone?(0,t.jsx)(te.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(td.XCircle,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-xs",children:"Pro"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.qcDone?(0,t.jsx)(te.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,t.jsx)(td.XCircle,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-xs",children:"QC"})]})]})}),(0,t.jsx)(th.TableCell,{children:(0,t.jsx)("div",{"data-action-button":"true",children:(0,t.jsxs)(tx.DropdownMenu,{children:[(0,t.jsx)(tx.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(a.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,t.jsx)(tk.MoreHorizontal,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,t.jsxs)(tx.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(tx.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),d(e)},children:[(0,t.jsx)(ty.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,t.jsxs)(tx.DropdownMenuItem,{onClick:t=>{var r;return r=e.id,void(t.stopPropagation(),c(r))},className:"text-destructive",children:[(0,t.jsx)(tS.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})}),(0,t.jsx)(th.TableCell,{className:"max-w-[120px]",children:(0,t.jsx)("div",{className:"truncate",title:e.vendor||"No vendor",children:e.vendor||"-"})})]},e.id)})})]})})})}),m>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(u-1)*p+1," to ",g," of ",f," jobs"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>h(1),disabled:1===u,children:[(0,t.jsx)(tg.ChevronsLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>h(u-1),disabled:1===u,children:[(0,t.jsx)(tv.ChevronLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,m)},(e,r)=>{let s=Math.max(1,Math.min(m-4,u-2))+r;return(0,t.jsx)(a.Button,{variant:u===s?"default":"outline",size:"sm",onClick:()=>h(s),className:"w-8 h-8 p-0",children:s},s)})}),(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>h(u+1),disabled:u===m,children:[(0,t.jsx)(tj.ChevronRight,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>h(m),disabled:u===m,children:[(0,t.jsx)(tb.ChevronsRight,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let tT=e=>{var r;let{pagedJobs:a,filters:l,setFilters:n,handleViewDetails:i,handleEditJob:d,handleDeleteJob:c}=e,{data:o}=(0,s.default)({queryKey:["clients"],queryFn:()=>(0,b.getClients)()}),[m,h]=(0,u.useState)({field:"incomingDate",direction:"desc"}),[p,v]=(0,u.useState)((null==a?void 0:a.items)||[]);(0,u.useEffect)(()=>{j()},[o,l,m]);let j=()=>{let e=(null==a?void 0:a.items)||[];if(l.search){let t=l.search.toLowerCase();e=e.filter(e=>e.jobCode.toLowerCase().includes(t))}l.clientId&&""!==l.clientId&&(e=e.filter(e=>e.clientId===l.clientId)),v(e)},g=(e,t)=>{n(r=>({...r,[e]:t}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.Card,{children:[(0,t.jsxs)(x.CardHeader,{children:[(0,t.jsxs)(x.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(to.Filter,{className:"h-5 w-5"}),"Filters"]}),(0,t.jsx)(x.CardDescription,{children:"Filter and search jobs"})]}),(0,t.jsx)(x.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(tu.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(f.Input,{placeholder:"Search jobs...",value:l.search,onChange:e=>g("search",e.target.value),className:"pl-10"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(tm,{options:null==o?void 0:o.data.map(e=>({value:e.id,label:e.sgCode})),defaultValue:l.clientId||"",onChange:e=>g("clientId",e),placeholder:"Filter by client"})})]})})]}),(0,t.jsx)(tD,{jobs:p,sort:m,onSort:e=>{h(t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"}))},onEdit:d,onDelete:c,onViewDetails:i,currentPage:l.pageNumber,totalPages:Math.ceil((null!=(r=null==a?void 0:a.totalRecords)?r:0)/l.pageSize)||0,onPageChange:e=>{n(t=>({...t,pageNumber:e}))},totalItems:(null==a?void 0:a.totalRecords)||0,itemsPerPage:l.pageSize})]})},tI=["CP","Ret","Liq","Sha","CR","BG","Res","Enh","Adj","Comp","Mask","Vec","Logo","Banner","Layout","model creation","Trashion","subtitle","image generate"],tE=["Downloading","Need to up","Uploading","Cancel","Delivered","Postponed"];function tP(){var e,l;let[x,h]=(0,u.useState)({search:"",clientId:"",pageNumber:1,pageSize:d.defaultPageSize}),{data:f,isFetching:p}=(0,s.default)({queryKey:["jobs",x],queryFn:()=>n(x)}),[v,j]=(0,u.useState)(!1),[g,b]=(0,u.useState)(!1),[N,y]=(0,u.useState)(null),[C,w]=(0,u.useState)(null),k=e=>{y(e),j(!0)};return p||(null==f?void 0:f.success)||(m.default,null==f||f.message),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.Badge,{variant:"secondary",className:"text-sm",children:[(null==f||null==(l=f.data)||null==(e=l.items)?void 0:e.length)||0," jobs"]}),(0,t.jsxs)(r.Badge,{variant:"outline",className:"text-xs",children:["As of ",(0,i.formatDateForDisplay)((0,i.getCurrentDate)())]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(a.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(c.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,t.jsxs)(a.Button,{onClick:()=>{y(null),j(!0)},size:"sm",children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"Create Job"]})]})]}),(0,t.jsx)(tT,{pagedJobs:null==f?void 0:f.data,filters:x,setFilters:h,handleViewDetails:e=>{w(e),b(!0)},handleEditJob:k,handleDeleteJob:e=>{console.log("Delete job with ID:",e)}}),(0,t.jsx)(e8,{isOpen:v,onClose:()=>j(!1),job:N}),(0,t.jsx)(tc,{isOpen:g,onClose:()=>b(!1),job:C,onEdit:k})]})}}]);