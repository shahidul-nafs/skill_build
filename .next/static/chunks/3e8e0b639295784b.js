(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,61911,e=>{"use strict";e.s(["Users",()=>s],61911);let s=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},94706,56909,37727,e=>{"use strict";e.s(["default",()=>s],94706);let s=e.i(96001);e.s(["Save",()=>a],56909);let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["X",()=>t.default],37727);var t=e.i(41947)},79920,31979,e=>{"use strict";e.s(["LoadingDots",()=>l,"default",()=>i],79920);var s=e.i(43476),a=e.i(15288);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),l=e=>{let{className:a=""}=e;return(0,s.jsxs)("div",{className:"flex space-x-1 ".concat(a),children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})},i=e=>{let{message:l="Loading...",overlay:i=!1,size:r="lg",showLogo:n=!0,className:c=""}=e;return(0,s.jsx)("div",{className:"".concat(i?"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm":"flex items-center justify-center p-4"," ").concat(c),children:(0,s.jsxs)(a.Card,{className:"w-full max-w-2xl",children:[(0,s.jsxs)(a.CardHeader,{className:"text-center space-y-4",children:[n&&(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-16 w-16 rounded-lg bg-primary flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-primary-foreground font-bold text-xl",children:"PMS"})})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(t,{className:"".concat({sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[r]," animate-spin text-primary")})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-xl font-semibold",children:l}),(0,s.jsx)(a.CardDescription,{children:"Please wait while we prepare your content"})]})]}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-primary h-2 rounded-full animate-pulse w-3/4"})}),(0,s.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"This may take a few moments..."})]})})]})})};e.s(["getTeams",()=>n],31979);var r=e.i(95187),n=(0,r.createServerReference)("7f14f1e5142ecda48d5d0f134a1cd49f1618be3e6b",r.callServer,void 0,r.findSourceMapURL,"getTeams")},74860,e=>{"use strict";e.s(["default",()=>X],74860);var s=e.i(43476),a=e.i(33129),t=e.i(79920),l=e.i(87486),i=e.i(19455),r=e.i(91825),n=e.i(33989),c=e.i(95187),d=(0,c.createServerReference)("7f393c7b49845c64b92747bcd22bdc2bcee9ab73f1",c.callServer,void 0,c.findSourceMapURL,"deleteTeam"),m=e.i(31979),o=e.i(40160),h=e.i(7233),u=e.i(61911),x=e.i(71645),j=e.i(46696),f=e.i(94814),p=e.i(53145),v=e.i(46087),g=e.i(76639),N=(0,c.createServerReference)("7f93dbdb64626f955891f47d7e384906e7dc15f016",c.callServer,void 0,c.findSourceMapURL,"createTeam"),b=(0,c.createServerReference)("7ffb4efcbce5dff6bac50ac43cbe31dd3163f5a077",c.callServer,void 0,c.findSourceMapURL,"updateTeam"),y=e.i(94706);let w=y.default.object({name:y.default.string().min(2,"Team name must be at least 2 characters long").max(50,"Team name must be less than 50 characters")});var C=e.i(56909),T=e.i(37727);function S(e){let{isOpen:a,onClose:t,team:l}=e,{register:n,handleSubmit:c,reset:d,formState:{errors:m,isSubmitting:o}}=(0,p.useForm)({resolver:(0,f.zodResolver)(w),defaultValues:{name:""}}),{mutate:h}=(0,r.useSkillMutation)({mutationFn:e=>N(e),onClose:t,reset:d,queryKey:["teams"]}),{mutate:j}=(0,r.useSkillMutation)({mutationFn:e=>b(e),onClose:t,queryKey:["teams"]});(0,x.useEffect)(()=>{l?d({name:l.name}):d({name:""})},[l,a,d]);let y=async e=>{l?await j({id:l.id,name:e.name.trim()}):await h({name:e.name.trim()})};return(0,s.jsx)(g.Dialog,{open:a,onOpenChange:t,children:(0,s.jsxs)(g.DialogContent,{className:"lg:min-w-[425px]",children:[(0,s.jsxs)(g.DialogHeader,{children:[(0,s.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Users,{className:"h-5 w-5"}),l?"Edit Team":"Add New Team"]}),(0,s.jsx)(g.DialogDescription,{children:l?"Update the team information below.":"Create a new team by entering the team name below."})]}),(0,s.jsxs)("form",{onSubmit:c(y),className:"space-y-4",children:[(0,s.jsx)(v.default,{register:n,label:"Team Name",id:"name",errors:m,helperText:"Team name should be descriptive and unique (2-50 characters)"}),(0,s.jsxs)(g.DialogFooter,{children:[(0,s.jsxs)(i.Button,{type:"button",variant:"outline",onClick:t,children:[(0,s.jsx)(T.X,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,s.jsxs)(i.Button,{type:"submit",disabled:o,children:[(0,s.jsx)(C.Save,{className:"mr-2 h-4 w-4"}),l?"Update Team":"Create Team"]})]})]})]})})}var D=e.i(15288),k=e.i(93479),M=e.i(87130),B=e.i(55436),R=e.i(55146),U=e.i(84774),z=e.i(75157),A=e.i(64659),F=e.i(73375),L=e.i(63059),H=e.i(19897),P=e.i(31026),E=e.i(55900),q=e.i(88511),K=e.i(41071),O=e.i(27612);function I(e){let{teams:a,sort:t,onSort:r,onEdit:n,onDelete:c,currentPage:d,totalPages:m,onPageChange:o,totalItems:h,itemsPerPage:x}=e,j=e=>{let{field:a,children:l}=e;return(0,s.jsx)(U.TableHead,{children:(0,s.jsxs)(i.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>r(a),children:[l,t.field===a&&("asc"===t.direction?(0,s.jsx)(E.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,s.jsx)(A.ChevronDown,{className:"ml-1 h-4 w-4"}))]})})},f=(d-1)*x+1,p=Math.min(d*x,h);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(D.Card,{className:"p-0",children:(0,s.jsx)(D.CardContent,{className:"p-0",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(U.Table,{children:[(0,s.jsx)(U.TableHeader,{children:(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(U.TableHead,{className:"w-[50px]",children:(0,s.jsx)(u.Users,{className:"h-4 w-4"})}),(0,s.jsx)(j,{field:"name",children:"Team Name"}),(0,s.jsx)(j,{field:"createdAt",children:"Created Date"}),(0,s.jsx)(j,{field:"updatedAt",children:"Last Updated"}),(0,s.jsx)(U.TableHead,{className:"w-[50px]",children:"Actions"})]})}),(0,s.jsx)(U.TableBody,{children:0===a.length?(0,s.jsx)(U.TableRow,{children:(0,s.jsx)(U.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No teams found"})}):a.map((e,a)=>(0,s.jsxs)(U.TableRow,{children:[(0,s.jsx)(U.TableCell,{children:(0,s.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:f+a})}),(0,s.jsx)(U.TableCell,{className:"font-medium",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e.name})]})}),(0,s.jsx)(U.TableCell,{className:"text-muted-foreground",children:(0,z.formatDate)(e.createdAt)}),(0,s.jsx)(U.TableCell,{className:"text-muted-foreground",title:(0,z.formatDate)(e.updatedAt),children:(0,z.formatDate)(e.updatedAt)}),(0,s.jsx)(U.TableCell,{children:(0,s.jsxs)(R.DropdownMenu,{children:[(0,s.jsx)(R.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(i.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(K.MoreHorizontal,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,s.jsxs)(R.DropdownMenuContent,{align:"end",children:[(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>n(e),children:[(0,s.jsx)(q.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(R.DropdownMenuItem,{onClick:()=>c(e.id),className:"text-destructive",children:[(0,s.jsx)(O.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})})}),m>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",f," to ",p," of ",h," teams"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>o(1),disabled:1===d,children:[(0,s.jsx)(H.ChevronsLeft,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>o(d-1),disabled:1===d,children:[(0,s.jsx)(F.ChevronLeft,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,s.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,m)},(e,a)=>{let t=Math.max(1,Math.min(m-4,d-2))+a;return(0,s.jsx)(i.Button,{variant:d===t?"default":"outline",size:"sm",onClick:()=>o(t),className:"w-8 h-8 p-0",children:t},t)})}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>o(d+1),disabled:d===m,children:[(0,s.jsx)(L.ChevronRight,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>o(m),disabled:d===m,children:[(0,s.jsx)(P.ChevronsRight,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let V=e=>{let{handleEditTeam:a,handleDeleteTeam:t,setFilteredTeams:l,filteredTeams:i,teams:r}=e,[n,c]=(0,x.useState)(1),[d]=(0,x.useState)(10),[m,o]=(0,x.useState)({search:""}),[h,u]=(0,x.useState)({field:"name",direction:"asc"});(0,x.useEffect)(()=>{j()},[r,m,h]);let j=()=>{let e=[...r||[]];if(m.search){let s=m.search.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s))}e.sort((e,s)=>{let a=e[h.field]||"",t=s[h.field]||"";return"string"==typeof a&&"string"==typeof t?"asc"===h.direction?a.localeCompare(t):t.localeCompare(a):0}),l(e),c(1)},f=Math.ceil(i.length/d),p=(n-1)*d,v=i.slice(p,p+d);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(D.Card,{children:[(0,s.jsxs)(D.CardHeader,{children:[(0,s.jsxs)(D.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(M.Filter,{className:"h-5 w-5"}),"Search & Filter"]}),(0,s.jsx)(D.CardDescription,{children:"Search for teams by name"})]}),(0,s.jsx)(D.CardContent,{children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(B.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(k.Input,{placeholder:"Search teams...",value:m.search,onChange:e=>{var s;return s=e.target.value,void o(e=>({...e,search:s}))},className:"pl-10"})]})})]}),(0,s.jsx)(I,{teams:v,sort:h,onSort:e=>{u(s=>({field:e,direction:s.field===e&&"asc"===s.direction?"desc":"asc"}))},onEdit:a,onDelete:t,currentPage:n,totalPages:f,onPageChange:c,totalItems:i.length,itemsPerPage:d})]})};function X(){var e;let{data:c,isFetching:f}=(0,n.default)({queryKey:["teams"],queryFn:m.getTeams}),[p,v]=(0,x.useState)(!1),[g,N]=(0,x.useState)(null),[b,y]=(0,x.useState)([]),{mutateAsync:w}=(0,r.useSkillMutation)({mutationFn:e=>d(e),queryKey:["teams"]}),C=async e=>{let s=j.toast.loading("Deleting team...");(await w({id:e})).success?j.toast.success("Team deleted successfully!",{id:s}):j.toast.dismiss(s)};return f?(0,s.jsx)(t.default,{}):f||(null==c?void 0:c.success)?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)(l.Badge,{variant:"secondary",className:"text-sm",children:[b.length," teams"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(i.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(o.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,s.jsxs)(i.Button,{onClick:()=>{N(null),v(!0)},size:"sm",children:[(0,s.jsx)(h.Plus,{className:"h-4 w-4 mr-2"}),"Add Team"]})]})]}),(0,s.jsx)(V,{teams:c.data,handleDeleteTeam:C,handleEditTeam:e=>{N(e),v(!0)},filteredTeams:b,setFilteredTeams:y}),(0,s.jsx)(S,{isOpen:p,onClose:()=>v(!1),team:g})]}):(0,s.jsx)(a.default,{message:null!=(e=null==c?void 0:c.message)?e:"Failed to fetch teams",status:100})}}]);