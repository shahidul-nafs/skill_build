module.exports=[8793,a=>{"use strict";a.s(["default",()=>S],8793);var b=a.i(87924),c=a.i(36455),d=a.i(86304),e=a.i(99570),f=a.i(15964),g=a.i(75793),h=a.i(5050),i=(0,h.createServerReference)("7fde7a5b7e6d63c9bc643621efe750a8cec933899e",h.callServer,void 0,h.findSourceMapURL,"deleteCurrency"),j=a.i(86508),k=a.i(84505),l=a.i(15618),m=a.i(60246),n=a.i(72131),o=a.i(23292),p=a.i(59501),q=a.i(95245),r=a.i(66317),s=a.i(14574),t=(0,h.createServerReference)("7f59331af4ba3bcafe5210647c9413badc80d4ad3f",h.callServer,void 0,h.findSourceMapURL,"createCurrency"),u=(0,h.createServerReference)("7faef6cc04abeb8a805086191bc59e4e197c5a298a",h.callServer,void 0,h.findSourceMapURL,"updateCurrency"),v=a.i(19111);let w=v.default.object({name:v.default.string().min(2,"Currency name must be at least 2 characters long"),code:v.default.string().min(1,"Currency code is required"),symbol:v.default.string().min(1,"Currency symbol is required"),exchangeRateToBDT:v.default.number().min(1,"Exchange rate to BDT is required")}),x={name:"",code:"",symbol:"",exchangeRateToBDT:0};var y=a.i(14548),z=a.i(33508);function A({isOpen:a,onClose:c,currency:d}){let{register:g,handleSubmit:h,reset:i,formState:{errors:j,isSubmitting:k}}=(0,q.useForm)({resolver:(0,p.zodResolver)(w)}),{mutateAsync:l}=(0,f.useSkillMutation)({mutationFn:a=>t(a),onClose:c,reset:i,queryKey:["currencies"]}),{mutateAsync:v}=(0,f.useSkillMutation)({mutationFn:({data:a,id:b})=>u({body:a,id:b}),onClose:c,queryKey:["currencies"]});(0,n.useEffect)(()=>{d?i(d):i(x)},[d,a,i]);let A=async a=>{let b=o.toast.loading("Saving...");d?(await v({data:a,id:d.id})).success&&o.toast.success("Currency updated successfully!",{id:b}):(await l(a)).success&&o.toast.success("Currency created successfully!",{id:b}),setTimeout(()=>{o.toast.dismiss(b)},3e3)};return(0,b.jsx)(s.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(s.DialogContent,{className:"min-w-[80vw] lg:min-w-5xl",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsxs)(s.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Users,{className:"h-5 w-5"}),d?"Edit Currency":"Add New Currency"]}),(0,b.jsx)(s.DialogDescription,{children:d?"Update the currency information below.":"Create a new currency by entering the currency name below."})]}),(0,b.jsxs)("form",{onSubmit:h(A),className:"space-y-4",children:[(0,b.jsx)(r.default,{register:g,label:"Currency Name",id:"name",errors:j}),(0,b.jsx)(r.default,{register:g,label:"Currency Code",id:"code",errors:j,helperText:"Currency Code (e.g. USD)"}),(0,b.jsx)(r.default,{register:g,label:"Currency Symbol",id:"symbol",errors:j,helperText:"Currency Symbol (e.g. $)"}),(0,b.jsx)(r.default,{register:g,label:"Exchange Rate (BDT)",id:"exchangeRateToBDT",errors:j,helperText:"Exchange Rate (BDT) (e.g. 1 USD = 122 BDT)"}),(0,b.jsxs)(s.DialogFooter,{children:[(0,b.jsxs)(e.Button,{type:"button",variant:"outline",onClick:c,children:[(0,b.jsx)(z.X,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,b.jsxs)(e.Button,{type:"submit",disabled:k,children:[(0,b.jsx)(y.Save,{className:"mr-2 h-4 w-4"}),d?"Update Currency":"Create Currency"]})]})]})]})})}var B=a.i(91119),C=a.i(66718),D=a.i(69012),E=a.i(87532),F=a.i(35732),G=a.i(6015),H=a.i(5784),I=a.i(13749),J=a.i(50522),K=a.i(18341),L=a.i(31746),M=a.i(67552),N=a.i(24569),O=a.i(17755),P=a.i(81560);function Q({currencies:a,sort:c,onSort:d,onEdit:f,onDelete:g,currentPage:h,totalPages:i,onPageChange:j,totalItems:k,itemsPerPage:l}){let m=({field:a,children:f})=>(0,b.jsx)(G.TableHead,{children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>d(a),children:[f,c.field===a&&("asc"===c.direction?(0,b.jsx)(M.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(H.ChevronDown,{className:"ml-1 h-4 w-4"}))]})}),n=Math.min(h*l,k);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(B.Card,{className:"p-0",children:(0,b.jsx)(B.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(G.Table,{children:[(0,b.jsx)(G.TableHeader,{children:(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(m,{field:"symbol",children:"Currency Symbol"}),(0,b.jsx)(m,{field:"code",children:"Currency Code"}),(0,b.jsx)(m,{field:"name",children:"Currency Name"}),(0,b.jsx)(m,{field:"exchangeRateToBDT",children:"Exchange Rate To BDT"}),(0,b.jsx)(G.TableHead,{className:"w-[50px]",children:"Actions"})]})}),(0,b.jsx)(G.TableBody,{children:0===a.length?(0,b.jsx)(G.TableRow,{children:(0,b.jsx)(G.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No currencies found"})}):a.map(a=>(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(G.TableCell,{className:"font-medium",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{children:a.symbol})})}),(0,b.jsx)(G.TableCell,{className:"font-medium",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{children:a.code})})}),(0,b.jsx)(G.TableCell,{className:"font-medium",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{children:a.name})})}),(0,b.jsx)(G.TableCell,{className:"font-medium",children:(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{children:a.exchangeRateToBDT})})}),(0,b.jsx)(G.TableCell,{children:(0,b.jsxs)(F.DropdownMenu,{children:[(0,b.jsx)(F.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,b.jsx)(O.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,b.jsxs)(F.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(F.DropdownMenuItem,{onClick:()=>f(a),children:[(0,b.jsx)(N.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(F.DropdownMenuItem,{onClick:()=>g(a.id),className:"text-destructive",children:[(0,b.jsx)(P.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},a.id))})]})})})}),i>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(h-1)*l+1," to ",n," of ",k," currencies"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>j(1),disabled:1===h,children:[(0,b.jsx)(K.ChevronsLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>j(h-1),disabled:1===h,children:[(0,b.jsx)(I.ChevronLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,i)},(a,c)=>{let d=Math.max(1,Math.min(i-4,h-2))+c;return(0,b.jsx)(e.Button,{variant:h===d?"default":"outline",size:"sm",onClick:()=>j(d),className:"w-8 h-8 p-0",children:d},d)})}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>j(h+1),disabled:h===i,children:[(0,b.jsx)(J.ChevronRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>j(i),disabled:h===i,children:[(0,b.jsx)(L.ChevronsRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let R=({handleEditCurrency:a,handleDeleteCurrency:c,setFilteredCurrencies:d,filteredCurrencies:e,currencies:f})=>{let[g,h]=(0,n.useState)(1),[i]=(0,n.useState)(10),[j,k]=(0,n.useState)({search:""}),[l,m]=(0,n.useState)({field:"name",direction:"asc"});(0,n.useEffect)(()=>{o()},[f,j,l]);let o=()=>{let a=[...f||[]];if(j.search){let b=j.search.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b))}a.sort((a,b)=>{let c=a[l.field]||"",d=b[l.field]||"";return"string"==typeof c&&"string"==typeof d?"asc"===l.direction?c.localeCompare(d):d.localeCompare(c):0}),d(a),h(1)},p=Math.ceil(e.length/i),q=(g-1)*i,r=e.slice(q,q+i);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(B.Card,{children:[(0,b.jsxs)(B.CardHeader,{children:[(0,b.jsxs)(B.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(D.Filter,{className:"h-5 w-5"}),"Search & Filter"]}),(0,b.jsx)(B.CardDescription,{children:"Search for currencies by name"})]}),(0,b.jsx)(B.CardContent,{children:(0,b.jsxs)("div",{className:"relative max-w-md",children:[(0,b.jsx)(E.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(C.Input,{placeholder:"Search currencies...",value:j.search,onChange:a=>{var b;return b=a.target.value,void k(a=>({...a,search:b}))},className:"pl-10"})]})})]}),(0,b.jsx)(Q,{currencies:r,sort:l,onSort:a=>{m(b=>({field:a,direction:b.field===a&&"asc"===b.direction?"desc":"asc"}))},onEdit:a,onDelete:c,currentPage:g,totalPages:p,onPageChange:h,totalItems:e.length,itemsPerPage:i})]})},S=()=>{let{data:a,isFetching:h}=(0,g.default)({queryKey:["currencies"],queryFn:j.getCurrencies}),[p,q]=(0,n.useState)(!1),[r,s]=(0,n.useState)(null),[t,u]=(0,n.useState)([]),{mutateAsync:v}=(0,f.useSkillMutation)({mutationFn:a=>i(a),queryKey:["currencies"]}),w=async a=>{let b=o.toast.loading("Deleting team...");(await v({id:a})).success?o.toast.success("Currency deleted successfully!",{id:b}):o.toast.dismiss(b)};return h||a?.success?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)(d.Badge,{variant:"secondary",className:"text-sm",children:[t.length," Currencies"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(k.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,b.jsxs)(e.Button,{onClick:()=>{s(null),q(!0)},size:"sm",children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add Currency"]})]})]}),(0,b.jsx)(R,{currencies:a.data,handleDeleteCurrency:w,handleEditCurrency:a=>{s(a),q(!0)},filteredCurrencies:t,setFilteredCurrencies:u}),(0,b.jsx)(A,{isOpen:p,onClose:()=>q(!1),currency:r})]}):(0,b.jsx)(c.default,{message:a?.message??"Failed to fetch currencies",status:100})}}];

//# sourceMappingURL=src_components_settings_currencies_currency-management_tsx_0559ef78._.js.map