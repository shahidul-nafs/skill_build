module.exports=[33363,a=>{"use strict";a.s(["default",()=>bF,"serviceOptions",()=>bD,"statusOptions",()=>bE],33363);var b=a.i(87924),c=a.i(86304),d=a.i(99570),e=a.i(75793),f=a.i(5050),g=(0,f.createServerReference)("7fdc144e177c4986e9626cb066a3a59f7080bce702",f.callServer,void 0,f.findSourceMapURL,"getPagedJobs"),h=a.i(84141),i=a.i(70883),j=a.i(84505),k=a.i(15618),l=a.i(72131),m=a.i(36455),n=a.i(91119),o=a.i(14574),p=a.i(66718),q=a.i(70430),r=a.i(69876),s=a.i(80701),t=a.i(15964),u=a.i(89912),v=(0,f.createServerReference)("7f805444e033ee7aa928029eb58053ea4c40216568",f.callServer,void 0,f.findSourceMapURL,"createJob"),w=(0,f.createServerReference)("7f97352ff1a58a05869af150524e864240edb13dbf",f.callServer,void 0,f.findSourceMapURL,"getJobDeliveryTypes"),x=(0,f.createServerReference)("7fc907e8754cc05b6e3c15c5256f0fac480a79dc30",f.callServer,void 0,f.findSourceMapURL,"getJobStatuses"),y=(0,f.createServerReference)("7fc5e462ed59646b228fb33d2932ddc800b4de75c5",f.callServer,void 0,f.findSourceMapURL,"getJobTypes"),z=(0,f.createServerReference)("7ffa4aff18dd0096359022781e7d291f2ef0ad9d48",f.callServer,void 0,f.findSourceMapURL,"getJobWorkFlowStatuses"),A=(0,f.createServerReference)("7fcf1a0efe0c5ebb9c953a57b8125f2a9bb2a61617",f.callServer,void 0,f.findSourceMapURL,"updateJob"),B=a.i(78069),C=a.i(15807),D=a.i(56757);let E=D.z.object({mainFolderPath:D.z.string().min(1,"Main FolderPath is required"),inputCount:D.z.number().int().min(1,"Input Count must be at least 1"),vendor:D.z.string().min(1,"Vendor is required"),unitPrice:D.z.number().min(1,"Unit Price must be at least 1"),lockTime:D.z.number().min(1,"Lock Time is required"),modifiedTime:D.z.number().min(1,"Modified Time is required"),incomingDate:D.z.date({error:"Incoming Date is required"}),deliveryDate:D.z.date({error:"Delivery Date is required"}),deliveryTime:D.z.date({error:"Delivery Time is required"}),deliveryType:D.z.number().min(0,"Delivery Type is required"),status:D.z.number().min(0,"Status is required"),workflowStatus:D.z.number().min(0,"Workflow Status is required"),proDone:D.z.boolean(),qcDone:D.z.boolean(),clientId:D.z.string().min(1,"Client is required"),jobTypeId:D.z.string().min(1,"Job Type is required")}),F={mainFolderPath:"",inputCount:0,vendor:"",unitPrice:0,lockTime:0,modifiedTime:0,incomingDate:void 0,deliveryDate:void 0,deliveryTime:void 0,deliveryType:-1,status:-1,workflowStatus:-1,proDone:!1,qcDone:!1,clientId:"",jobTypeId:""};var G=a.i(59501),H=a.i(73237),I=a.i(70106);let J=(0,I.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var K=a.i(95245),L=a.i(23292),M=a.i(70121),N=a.i(50104),O=a.i(7554),P=a.i(25152),Q=a.i(77994),R=a.i(3688),S=a.i(77192),T=a.i(30553),U="Checkbox",[V,W]=(0,N.createContextScope)(U),[X,Y]=V(U);function Z(a){let{__scopeCheckbox:c,checked:d,children:e,defaultChecked:f,disabled:g,form:h,name:i,onCheckedChange:j,required:k,value:m="on",internal_do_not_use_render:n}=a,[o,p]=(0,P.useControllableState)({prop:d,defaultProp:f??!1,onChange:j,caller:U}),[q,r]=l.useState(null),[s,t]=l.useState(null),u=l.useRef(!1),v=!q||!!h||!!q.closest("form"),w={checked:o,disabled:g,setChecked:p,control:q,setControl:r,name:i,form:h,value:m,hasConsumerStoppedPropagationRef:u,required:k,defaultChecked:!af(f)&&f,isFormControl:v,bubbleInput:s,setBubbleInput:t};return(0,b.jsx)(X,{scope:c,...w,children:"function"==typeof n?n(w):e})}var $="CheckboxTrigger",_=l.forwardRef(({__scopeCheckbox:a,onKeyDown:c,onClick:d,...e},f)=>{let{control:g,value:h,disabled:i,checked:j,required:k,setControl:m,setChecked:n,hasConsumerStoppedPropagationRef:o,isFormControl:p,bubbleInput:q}=Y($,a),r=(0,M.useComposedRefs)(f,m),s=l.useRef(j);return l.useEffect(()=>{let a=g?.form;if(a){let b=()=>n(s.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[g,n]),(0,b.jsx)(T.Primitive.button,{type:"button",role:"checkbox","aria-checked":af(j)?"mixed":j,"aria-required":k,"data-state":ag(j),"data-disabled":i?"":void 0,disabled:i,value:h,...e,ref:r,onKeyDown:(0,O.composeEventHandlers)(c,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,O.composeEventHandlers)(d,a=>{n(a=>!!af(a)||!a),q&&p&&(o.current=a.isPropagationStopped(),o.current||a.stopPropagation())})})});_.displayName=$;var aa=l.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(Z,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(_,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(ae,{__scopeCheckbox:d})]})})});aa.displayName=U;var ab="CheckboxIndicator",ac=l.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=Y(ab,d);return(0,b.jsx)(S.Presence,{present:e||af(g.checked)||!0===g.checked,children:(0,b.jsx)(T.Primitive.span,{"data-state":ag(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});ac.displayName=ab;var ad="CheckboxBubbleInput",ae=l.forwardRef(({__scopeCheckbox:a,...c},d)=>{let{control:e,hasConsumerStoppedPropagationRef:f,checked:g,defaultChecked:h,required:i,disabled:j,name:k,value:m,form:n,bubbleInput:o,setBubbleInput:p}=Y(ad,a),q=(0,M.useComposedRefs)(d,p),r=(0,Q.usePrevious)(g),s=(0,R.useSize)(e);l.useEffect(()=>{if(!o)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!f.current;if(r!==g&&a){let c=new Event("click",{bubbles:b});o.indeterminate=af(g),a.call(o,!af(g)&&g),o.dispatchEvent(c)}},[o,r,g,f]);let t=l.useRef(!af(g)&&g);return(0,b.jsx)(T.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:h??t.current,required:i,disabled:j,name:k,value:m,form:n,...c,tabIndex:-1,ref:q,style:{...c.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function af(a){return"indeterminate"===a}function ag(a){return af(a)?"indeterminate":a?"checked":"unchecked"}ae.displayName=ad;var ah=a.i(6406),ai=a.i(68114);function aj({className:a,...c}){return(0,b.jsx)(aa,{"data-slot":"checkbox",className:(0,ai.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(ac,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,b.jsx)(ah.CheckIcon,{className:"size-3.5"})})})}let ak=({errors:a,setValue:c,label:d,id:e,helperText:f,defaultChecked:g})=>{let h=a[e];return(0,b.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,b.jsx)(aj,{id:e,className:h?"border-destructive":"",defaultChecked:g,onCheckedChange:a=>{c(e,!!a,{shouldValidate:!0})}}),(0,b.jsx)(q.Label,{htmlFor:e,children:d}),h&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:h.message}),f&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:f})]})};var al=a.i(34157),al=al;let am=(0,I.default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var an=/[\\\/_+.#"@\[\(\{&]/,ao=/[\\\/_+.#"@\[\(\{&]/g,ap=/[\s-]/,aq=/[\s-]/g;function ar(a){return a.toLowerCase().replace(aq," ")}var as=a.i(97942),at=a.i(92843),au='[cmdk-group=""]',av='[cmdk-group-items=""]',aw='[cmdk-item=""]',ax=`${aw}:not([aria-disabled="true"])`,ay="cmdk-item-select",az="data-value",aA=(a,b,c)=>(function(a,b,c){return function a(b,c,d,e,f,g,h){if(g===c.length)return f===b.length?1:.99;var i=`${f},${g}`;if(void 0!==h[i])return h[i];for(var j,k,l,m,n=e.charAt(g),o=d.indexOf(n,f),p=0;o>=0;)(j=a(b,c,d,e,o+1,g+1,h))>p&&(o===f?j*=1:an.test(b.charAt(o-1))?(j*=.8,(l=b.slice(f,o-1).match(ao))&&f>0&&(j*=Math.pow(.999,l.length))):ap.test(b.charAt(o-1))?(j*=.9,(m=b.slice(f,o-1).match(aq))&&f>0&&(j*=Math.pow(.999,m.length))):(j*=.17,f>0&&(j*=Math.pow(.999,o-f))),b.charAt(o)!==c.charAt(g)&&(j*=.9999)),(j<.1&&d.charAt(o-1)===e.charAt(g+1)||e.charAt(g+1)===e.charAt(g)&&d.charAt(o-1)!==e.charAt(g))&&.1*(k=a(b,c,d,e,o+1,g+2,h))>j&&(j=.1*k),j>p&&(p=j),o=d.indexOf(n,o+1);return h[i]=p,p}(a=c&&c.length>0?`${a+" "+c.join(" ")}`:a,b,ar(a),ar(b),0,0,{})})(a,b,c),aB=l.createContext(void 0),aC=()=>l.useContext(aB),aD=l.createContext(void 0),aE=()=>l.useContext(aD),aF=l.createContext(void 0),aG=l.forwardRef((a,b)=>{let c=aQ(()=>{var b,c;return{search:"",value:null!=(c=null!=(b=a.value)?b:a.defaultValue)?c:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),d=aQ(()=>new Set),e=aQ(()=>new Map),f=aQ(()=>new Map),g=aQ(()=>new Set),h=aO(a),{label:i,children:j,value:k,onValueChange:m,filter:n,shouldFilter:o,loop:p,disablePointerSelection:q=!1,vimBindings:r=!0,...s}=a,t=(0,at.useId)(),u=(0,at.useId)(),v=(0,at.useId)(),w=l.useRef(null),x=aT();aP(()=>{if(void 0!==k){let a=k.trim();c.current.value=a,y.emit()}},[k]),aP(()=>{x(6,E)},[]);let y=l.useMemo(()=>({subscribe:a=>(g.current.add(a),()=>g.current.delete(a)),snapshot:()=>c.current,setState:(a,b,d)=>{var e,f,g,i;if(!Object.is(c.current[a],b)){if(c.current[a]=b,"search"===a)D(),B(),x(1,C);else if("value"===a){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let a=document.getElementById(v);a?a.focus():null==(e=document.getElementById(t))||e.focus()}if(x(7,()=>{var a;c.current.selectedItemId=null==(a=F())?void 0:a.id,y.emit()}),d||x(5,E),(null==(f=h.current)?void 0:f.value)!==void 0){null==(i=(g=h.current).onValueChange)||i.call(g,null!=b?b:"");return}}y.emit()}},emit:()=>{g.current.forEach(a=>a())}}),[]),z=l.useMemo(()=>({value:(a,b,d)=>{var e;b!==(null==(e=f.current.get(a))?void 0:e.value)&&(f.current.set(a,{value:b,keywords:d}),c.current.filtered.items.set(a,A(b,d)),x(2,()=>{B(),y.emit()}))},item:(a,b)=>(d.current.add(a),b&&(e.current.has(b)?e.current.get(b).add(a):e.current.set(b,new Set([a]))),x(3,()=>{D(),B(),c.current.value||C(),y.emit()}),()=>{f.current.delete(a),d.current.delete(a),c.current.filtered.items.delete(a);let b=F();x(4,()=>{D(),(null==b?void 0:b.getAttribute("id"))===a&&C(),y.emit()})}),group:a=>(e.current.has(a)||e.current.set(a,new Set),()=>{f.current.delete(a),e.current.delete(a)}),filter:()=>h.current.shouldFilter,label:i||a["aria-label"],getDisablePointerSelection:()=>h.current.disablePointerSelection,listId:t,inputId:v,labelId:u,listInnerRef:w}),[]);function A(a,b){var d,e;let f=null!=(e=null==(d=h.current)?void 0:d.filter)?e:aA;return a?f(a,c.current.search,b):0}function B(){if(!c.current.search||!1===h.current.shouldFilter)return;let a=c.current.filtered.items,b=[];c.current.filtered.groups.forEach(c=>{let d=e.current.get(c),f=0;d.forEach(b=>{f=Math.max(a.get(b),f)}),b.push([c,f])});let d=w.current;G().sort((b,c)=>{var d,e;let f=b.getAttribute("id"),g=c.getAttribute("id");return(null!=(d=a.get(g))?d:0)-(null!=(e=a.get(f))?e:0)}).forEach(a=>{let b=a.closest(av);b?b.appendChild(a.parentElement===b?a:a.closest(`${av} > *`)):d.appendChild(a.parentElement===d?a:a.closest(`${av} > *`))}),b.sort((a,b)=>b[1]-a[1]).forEach(a=>{var b;let c=null==(b=w.current)?void 0:b.querySelector(`${au}[${az}="${encodeURIComponent(a[0])}"]`);null==c||c.parentElement.appendChild(c)})}function C(){let a=G().find(a=>"true"!==a.getAttribute("aria-disabled")),b=null==a?void 0:a.getAttribute(az);y.setState("value",b||void 0)}function D(){var a,b,g,i;if(!c.current.search||!1===h.current.shouldFilter){c.current.filtered.count=d.current.size;return}c.current.filtered.groups=new Set;let j=0;for(let e of d.current){let d=A(null!=(b=null==(a=f.current.get(e))?void 0:a.value)?b:"",null!=(i=null==(g=f.current.get(e))?void 0:g.keywords)?i:[]);c.current.filtered.items.set(e,d),d>0&&j++}for(let[a,b]of e.current)for(let d of b)if(c.current.filtered.items.get(d)>0){c.current.filtered.groups.add(a);break}c.current.filtered.count=j}function E(){var a,b,c;let d=F();d&&((null==(a=d.parentElement)?void 0:a.firstChild)===d&&(null==(c=null==(b=d.closest(au))?void 0:b.querySelector('[cmdk-group-heading=""]'))||c.scrollIntoView({block:"nearest"})),d.scrollIntoView({block:"nearest"}))}function F(){var a;return null==(a=w.current)?void 0:a.querySelector(`${aw}[aria-selected="true"]`)}function G(){var a;return Array.from((null==(a=w.current)?void 0:a.querySelectorAll(ax))||[])}function H(a){let b=G()[a];b&&y.setState("value",b.getAttribute(az))}function I(a){var b;let c=F(),d=G(),e=d.findIndex(a=>a===c),f=d[e+a];null!=(b=h.current)&&b.loop&&(f=e+a<0?d[d.length-1]:e+a===d.length?d[0]:d[e+a]),f&&y.setState("value",f.getAttribute(az))}function J(a){let b=F(),c=null==b?void 0:b.closest(au),d;for(;c&&!d;)d=null==(c=a>0?function(a,b){let c=a.nextElementSibling;for(;c;){if(c.matches(b))return c;c=c.nextElementSibling}}(c,au):function(a,b){let c=a.previousElementSibling;for(;c;){if(c.matches(b))return c;c=c.previousElementSibling}}(c,au))?void 0:c.querySelector(ax);d?y.setState("value",d.getAttribute(az)):I(a)}let K=()=>H(G().length-1),L=a=>{a.preventDefault(),a.metaKey?K():a.altKey?J(1):I(1)},M=a=>{a.preventDefault(),a.metaKey?H(0):a.altKey?J(-1):I(-1)};return l.createElement(T.Primitive.div,{ref:b,tabIndex:-1,...s,"cmdk-root":"",onKeyDown:a=>{var b;null==(b=s.onKeyDown)||b.call(s,a);let c=a.nativeEvent.isComposing||229===a.keyCode;if(!(a.defaultPrevented||c))switch(a.key){case"n":case"j":r&&a.ctrlKey&&L(a);break;case"ArrowDown":L(a);break;case"p":case"k":r&&a.ctrlKey&&M(a);break;case"ArrowUp":M(a);break;case"Home":a.preventDefault(),H(0);break;case"End":a.preventDefault(),K();break;case"Enter":{a.preventDefault();let b=F();if(b){let a=new Event(ay);b.dispatchEvent(a)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:aV},i),aU(a,a=>l.createElement(aD.Provider,{value:y},l.createElement(aB.Provider,{value:z},a))))}),aH=l.forwardRef((a,b)=>{var c,d;let e=(0,at.useId)(),f=l.useRef(null),g=l.useContext(aF),h=aC(),i=aO(a),j=null!=(d=null==(c=i.current)?void 0:c.forceMount)?d:null==g?void 0:g.forceMount;aP(()=>{if(!j)return h.item(e,null==g?void 0:g.id)},[j]);let k=aS(e,f,[a.value,a.children,f],a.keywords),m=aE(),n=aR(a=>a.value&&a.value===k.current),o=aR(a=>!!j||!1===h.filter()||!a.search||a.filtered.items.get(e)>0);function p(){var a,b;q(),null==(b=(a=i.current).onSelect)||b.call(a,k.current)}function q(){m.setState("value",k.current,!0)}if(l.useEffect(()=>{let b=f.current;if(!(!b||a.disabled))return b.addEventListener(ay,p),()=>b.removeEventListener(ay,p)},[o,a.onSelect,a.disabled]),!o)return null;let{disabled:r,value:s,onSelect:t,forceMount:u,keywords:v,...w}=a;return l.createElement(T.Primitive.div,{ref:(0,M.composeRefs)(f,b),...w,id:e,"cmdk-item":"",role:"option","aria-disabled":!!r,"aria-selected":!!n,"data-disabled":!!r,"data-selected":!!n,onPointerMove:r||h.getDisablePointerSelection()?void 0:q,onClick:r?void 0:p},a.children)}),aI=l.forwardRef((a,b)=>{let{heading:c,children:d,forceMount:e,...f}=a,g=(0,at.useId)(),h=l.useRef(null),i=l.useRef(null),j=(0,at.useId)(),k=aC(),m=aR(a=>!!e||!1===k.filter()||!a.search||a.filtered.groups.has(g));aP(()=>k.group(g),[]),aS(g,h,[a.value,a.heading,i]);let n=l.useMemo(()=>({id:g,forceMount:e}),[e]);return l.createElement(T.Primitive.div,{ref:(0,M.composeRefs)(h,b),...f,"cmdk-group":"",role:"presentation",hidden:!m||void 0},c&&l.createElement("div",{ref:i,"cmdk-group-heading":"","aria-hidden":!0,id:j},c),aU(a,a=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":c?j:void 0},l.createElement(aF.Provider,{value:n},a))))}),aJ=l.forwardRef((a,b)=>{let{alwaysRender:c,...d}=a,e=l.useRef(null),f=aR(a=>!a.search);return c||f?l.createElement(T.Primitive.div,{ref:(0,M.composeRefs)(e,b),...d,"cmdk-separator":"",role:"separator"}):null}),aK=l.forwardRef((a,b)=>{let{onValueChange:c,...d}=a,e=null!=a.value,f=aE(),g=aR(a=>a.search),h=aR(a=>a.selectedItemId),i=aC();return l.useEffect(()=>{null!=a.value&&f.setState("search",a.value)},[a.value]),l.createElement(T.Primitive.input,{ref:b,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":i.listId,"aria-labelledby":i.labelId,"aria-activedescendant":h,id:i.inputId,type:"text",value:e?a.value:g,onChange:a=>{e||f.setState("search",a.target.value),null==c||c(a.target.value)}})}),aL=l.forwardRef((a,b)=>{let{children:c,label:d="Suggestions",...e}=a,f=l.useRef(null),g=l.useRef(null),h=aR(a=>a.selectedItemId),i=aC();return l.useEffect(()=>{if(g.current&&f.current){let a=g.current,b=f.current,c,d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let c=a.offsetHeight;b.style.setProperty("--cmdk-list-height",c.toFixed(1)+"px")})});return d.observe(a),()=>{cancelAnimationFrame(c),d.unobserve(a)}}},[]),l.createElement(T.Primitive.div,{ref:(0,M.composeRefs)(f,b),...e,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":h,"aria-label":d,id:i.listId},aU(a,a=>l.createElement("div",{ref:(0,M.composeRefs)(g,i.listInnerRef),"cmdk-list-sizer":""},a)))}),aM=l.forwardRef((a,b)=>{let{open:c,onOpenChange:d,overlayClassName:e,contentClassName:f,container:g,...h}=a;return l.createElement(as.Root,{open:c,onOpenChange:d},l.createElement(as.Portal,{container:g},l.createElement(as.Overlay,{"cmdk-overlay":"",className:e}),l.createElement(as.Content,{"aria-label":a.label,"cmdk-dialog":"",className:f},l.createElement(aG,{ref:b,...h}))))}),aN=Object.assign(aG,{List:aL,Item:aH,Input:aK,Group:aI,Separator:aJ,Dialog:aM,Empty:l.forwardRef((a,b)=>aR(a=>0===a.filtered.count)?l.createElement(T.Primitive.div,{ref:b,...a,"cmdk-empty":"",role:"presentation"}):null),Loading:l.forwardRef((a,b)=>{let{progress:c,children:d,label:e="Loading...",...f}=a;return l.createElement(T.Primitive.div,{ref:b,...f,"cmdk-loading":"",role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,"aria-label":e},aU(a,a=>l.createElement("div",{"aria-hidden":!0},a)))})});function aO(a){let b=l.useRef(a);return aP(()=>{b.current=a}),b}var aP=l.useEffect;function aQ(a){let b=l.useRef();return void 0===b.current&&(b.current=a()),b}function aR(a){let b=aE(),c=()=>a(b.snapshot());return l.useSyncExternalStore(b.subscribe,c,c)}function aS(a,b,c,d=[]){let e=l.useRef(),f=aC();return aP(()=>{var g;let h=(()=>{var a;for(let b of c){if("string"==typeof b)return b.trim();if("object"==typeof b&&"current"in b)return b.current?null==(a=b.current.textContent)?void 0:a.trim():e.current}})(),i=d.map(a=>a.trim());f.value(a,h,i),null==(g=b.current)||g.setAttribute(az,h),e.current=h}),e}var aT=()=>{let[a,b]=l.useState(),c=aQ(()=>new Map);return aP(()=>{c.current.forEach(a=>a()),c.current=new Map},[a]),(a,d)=>{c.current.set(a,d),b({})}};function aU({asChild:a,children:b},c){let d;return a&&l.isValidElement(b)?l.cloneElement("function"==typeof(d=b.type)?d(b.props):"render"in d?d.render(b.props):b,{ref:b.ref},c(b.props.children)):c(b)}var aV={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},aW=a.i(50537),aW=aW;function aX({className:a,...c}){return(0,b.jsx)(aN,{"data-slot":"command",className:(0,ai.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",a),...c})}function aY({className:a,...c}){return(0,b.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,b.jsx)(aW.default,{className:"size-4 shrink-0 opacity-50"}),(0,b.jsx)(aN.Input,{"data-slot":"command-input",className:(0,ai.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",a),...c})]})}function aZ({className:a,...c}){return(0,b.jsx)(aN.List,{"data-slot":"command-list",className:(0,ai.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",a),...c})}function a$({...a}){return(0,b.jsx)(aN.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...a})}function a_({className:a,...c}){return(0,b.jsx)(aN.Group,{"data-slot":"command-group",className:(0,ai.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",a),...c})}function a0({className:a,...c}){return(0,b.jsx)(aN.Item,{"data-slot":"command-item",className:(0,ai.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}var a1=a.i(99209);let a2=({label:a,id:c,placeholder:e,setValue:f,errors:g,defaultValue:h,options:i})=>{let[j,k]=(0,l.useState)(!1),[m,n]=(0,l.useState)(h),o=g[c];return(0,b.jsxs)(a1.Popover,{open:j,onOpenChange:k,children:[(0,b.jsx)(q.Label,{children:a}),(0,b.jsx)(a1.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",role:"combobox","aria-expanded":j,className:(0,ai.cn)("w-full justify-between text-left font-normal my-2",o&&"border-destructive"),children:[m?i?.find(a=>a.value===m)?.label:e||`Select ${a}`,(0,b.jsx)(am,{className:"opacity-50"})]})}),(0,b.jsx)(a1.PopoverContent,{className:"w-fit p-0",children:(0,b.jsxs)(aX,{children:[(0,b.jsx)(aY,{placeholder:"Search option...",className:"h-9"}),(0,b.jsxs)(aZ,{children:[(0,b.jsx)(a$,{children:"No option found."}),(0,b.jsx)(a_,{children:i?.map(a=>(0,b.jsxs)(a0,{value:a.value,onSelect:a=>{n(a===m?"":a),f(c,a),k(!1)},children:[a.label,(0,b.jsx)(al.default,{className:(0,ai.cn)("ml-auto",m===a.value?"opacity-100":"opacity-0")})]},a.value))})]})]})}),o&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:o.message})]})};var a3=a.i(81579),a4=a.i(66317),a5=a.i(3547);let a6=({setValue:a,label:c,id:d,errors:e,helperText:f,...g})=>{let h=e[d];return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:d,children:c}),(0,b.jsx)(p.Input,{id:d,type:"time",className:h?"border-destructive":"",onChange:b=>{let[c,e]=b.target.value.split(":").map(Number),f=new Date;f.setHours(c||0),f.setMinutes(e||0),f.setSeconds(0),f.setMilliseconds(0),a(d,f,{shouldValidate:!0})},...g}),h&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:h.message}),f&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:f})]})},a7=({isOpen:a,onClose:c,job:f})=>{let{register:g,handleSubmit:h,reset:i,setValue:j,watch:k,formState:{errors:m,isSubmitting:D}}=(0,K.useForm)({resolver:(0,G.zodResolver)(E)}),{data:I}=(0,e.default)({queryKey:["clients"],queryFn:()=>(0,u.getClients)()}),{data:M}=(0,e.default)({queryKey:["jobTypes"],queryFn:()=>y()}),{data:N}=(0,e.default)({queryKey:["jobStatuses"],queryFn:()=>x()}),{data:O}=(0,e.default)({queryKey:["jobWorkflowStatuses"],queryFn:()=>z()}),{data:P}=(0,e.default)({queryKey:["jobDeliveryTypes"],queryFn:()=>w()}),{mutateAsync:Q}=(0,t.useSkillMutation)({queryKey:["jobs"],mutationFn:a=>v(a),onClose:c}),{mutateAsync:R}=(0,t.useSkillMutation)({queryKey:["jobs"],mutationFn:({job:a,id:b})=>A({job:a,id:b}),onClose:c}),[S,T]=(0,l.useState)(void 0),[U,V]=(0,l.useState)(void 0),[W,X,Y,Z,$]=k(["mainFolderPath","unitPrice","inputCount","lockTime","clientId"]);(0,l.useEffect)(()=>{f?(i(f),T((0,C.toBangladeshTime)(f.incomingDate)),V((0,C.toBangladeshTime)(f.deliveryDate)),j("incomingDate",(0,C.toBangladeshTime)(f.incomingDate)||new Date),j("deliveryDate",(0,C.toBangladeshTime)(f.deliveryDate)||new Date),j("deliveryTime",(0,C.toBangladeshTime)(f.deliveryTime)||new Date)):i(F)},[f,a,i,j]);let _=async a=>{let b=L.toast.loading("Saving...");try{f?(await R({job:a,id:f.id})).success&&L.toast.success("Job updated successfully!",{id:b}):(await Q(a)).success&&L.toast.success("Job created successfully!",{id:b})}catch(a){console.error(a)}setTimeout(()=>{L.toast.dismiss(b)},3e3)},aa=()=>{c()},ab=({field:a,date:b})=>{"incomingDate"===a?T(b):V(b)},ac="";if(W){let a=W.split(/[/\\]/);ac=a[a.length-1]}let ad=I?.data.find(a=>a.id===$)?.currency;return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:aa,children:(0,b.jsxs)(o.DialogContent,{className:"min-w-[80vw] lg:min-w-5xl",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{children:f?"Edit Job":"Create New Job"}),(0,b.jsx)(o.DialogDescription,{children:f?"Update job information":"Enter job details to create a new job."})]}),(0,b.jsx)(r.ScrollArea,{className:"max-h-[70vh] pr-6",children:(0,b.jsxs)("form",{className:"space-y-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Client Information"}),(0,b.jsx)(n.CardDescription,{children:"Enter client code to identify the client"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)(a2,{id:"clientId",label:"Select Client",options:I?.data.map(a=>({value:a.id,label:a.sgCode})),setValue:j,errors:m,defaultValue:f?.clientId})})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(J,{className:"h-5 w-5"}),"Folder Information"]}),(0,b.jsx)(n.CardDescription,{children:"Configure file paths and folder structure"})]}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(a4.default,{register:g,errors:m,id:"mainFolderPath",label:"Folder Path",placeholder:"\\DOTNET\\Infrastructure or /clients/projects/folder",helperText:"Supports both Windows (\\) and Unix (/) path separators"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"folderName",children:"Folder Name / Job Code"}),(0,b.jsx)(p.Input,{id:"folderName",readOnly:!0,value:ac,placeholder:"Last directory from file path",className:"bg-muted"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically extracted from the last directory in file path"})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Job Details"}),(0,b.jsx)(n.CardDescription,{children:"Configure job type, services, and file counts"})]}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(a5.default,{setValue:j,errors:m,id:"jobTypeId",label:"Job Type",defaultValue:f?.jobTypeId,children:M?.data.map(a=>(0,b.jsx)(s.SelectItem,{value:a.id,children:a.name},a.id))}),(0,b.jsx)(a4.default,{register:g,errors:m,id:"vendor",label:"Vendor"}),(0,b.jsx)(a4.default,{register:g,errors:m,id:"inputCount",label:"Input Files",valueAsNumber:!0}),(0,b.jsx)(a4.default,{register:g,errors:m,id:"unitPrice",label:"Unit Price",valueAsNumber:!0})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Time Information"}),(0,b.jsx)(n.CardDescription,{children:"Configure time-related fields (in numerical format)"})]}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(a4.default,{register:g,errors:m,id:"lockTime",label:"Lock Time",valueAsNumber:!0}),(0,b.jsx)(a4.default,{register:g,errors:m,id:"modifiedTime",label:"Modified Time",valueAsNumber:!0})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Schedule Information"}),(0,b.jsx)(n.CardDescription,{children:"Set incoming and delivery dates"})]}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsx)(a3.default,{errors:m,setValue:j,id:"incomingDate",label:"Incoming Date",dateValue:S,handleDateChange:ab}),(0,b.jsx)(a3.default,{errors:m,setValue:j,id:"deliveryDate",label:"Delivery Date",dateValue:U,handleDateChange:ab}),(0,b.jsx)(a6,{setValue:j,errors:m,id:"deliveryTime",label:"Delivery Time",type:"time",step:"1"}),(0,b.jsx)(a5.default,{setValue:j,errors:m,id:"deliveryType",label:"Delivery Type",defaultValue:f?.deliveryType?.toString(),valueAsNumber:!0,children:P?.data.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value.toString(),children:a.name},a.value))})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Status Information"}),(0,b.jsx)(n.CardDescription,{children:"Configure job status and progress"})]}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(a5.default,{setValue:j,errors:m,id:"status",label:"Status",defaultValue:f?.status?.toString(),valueAsNumber:!0,children:N?.data.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value.toString(),children:a.name},a.value))}),(0,b.jsx)(a5.default,{setValue:j,errors:m,id:"workflowStatus",label:"Status (Workflow)",defaultValue:f?.workflowStatus?.toString(),valueAsNumber:!0,children:O?.data.map(a=>(0,b.jsx)(s.SelectItem,{value:a.value.toString(),children:a.name},a.value))}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsx)(ak,{setValue:j,errors:m,label:"Production Done",id:"proDone",defaultChecked:f?.proDone})}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsx)(ak,{setValue:j,errors:m,label:"QC Done",id:"qcDone",defaultChecked:f?.qcDone})})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(H.Calculator,{className:"h-5 w-5"}),"Calculated Information"]}),(0,b.jsx)(n.CardDescription,{children:"Auto-calculated values based on input data"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{children:"Total Time (Minutes)"}),(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-md",children:[(0,b.jsx)("span",{className:"font-mono text-lg",children:(Number(Y)||0)*(Number(Z)||0)}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground ml-2",children:"minutes"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{children:"Estimated Total Cost"}),(0,b.jsx)("div",{className:"p-3 bg-muted rounded-md",children:(0,b.jsxs)("span",{className:"font-mono text-lg",children:[(Number(X)||0)*(Number(Y)||0)," ",(0,B.formatCurrency)(ad)]})})]})]})})]})]})}),(0,b.jsxs)(o.DialogFooter,{children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:aa,children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",onClick:h(_),disabled:D,children:f?"Update Job":"Create Job"})]})]})})},a8=(0,I.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var a9=a.i(41675),ba=a.i(16201),bb=a.i(41710),bc=a.i(90166),bd=a.i(4720);let be=(0,I.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),bf=(0,I.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),bg=(0,I.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var bh=a.i(46842),bi=a.i(62722);function bj({isOpen:a,onClose:e,job:f,onEdit:g}){if(!f)return null;let h=a=>null==a?"Not set":a.toString(),i=f.mainFolderPath.split("/")||"Not set",j=i[i.length-1]||"Not set";return(0,b.jsx)(o.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(o.DialogContent,{className:"min-w-[800px] lg:min-w-5xl",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(bd.FileText,{className:"h-5 w-5"}),"Job Details - ",j]}),(0,b.jsxs)(o.DialogDescription,{children:["Complete information for job ID: ",f.id]})]}),(0,b.jsx)(r.ScrollArea,{className:"max-h-[70vh] pr-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsx)(n.CardTitle,{className:"text-lg flex items-center justify-between",children:(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(bh.User,{className:"h-5 w-5"}),"Client & Basic Information"]})})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Client Code"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(c.Badge,{variant:"outline",children:f.clientId})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Currency"}),(0,b.jsx)(c.Badge,{variant:"secondary",children:f.client?.currency?.name||"USD"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Job Type"}),(0,b.jsx)(c.Badge,{variant:"outline",children:f.jobTypeId})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Vendor"}),(0,b.jsx)("p",{className:"text-sm",children:f.vendor||"Not assigned"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Type"}),(0,b.jsx)(c.Badge,{children:f.deliveryType})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Status Text"}),(0,b.jsx)("p",{className:"text-sm",children:f.status||"Not set"})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(J,{className:"h-5 w-5"}),"File Information"]})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"File Path"}),(0,b.jsx)("p",{className:"text-sm font-mono bg-muted p-2 rounded",children:f.mainFolderPath})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Folder Name"}),(0,b.jsx)("p",{className:"text-sm font-semibold",children:j})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Input Files"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(be,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-semibold",children:h(f.inputCount)})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Output Files"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(be,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-semibold",children:h(f.outputCount)})]})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(bg,{className:"h-5 w-5"}),"Time Information"]})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Lock Time"}),(0,b.jsx)("p",{className:"text-sm font-mono",children:h(f.lockTime)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Modified Time"}),(0,b.jsx)("p",{className:"text-sm font-mono",children:h(f.modifiedTime)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Target Time"}),(0,b.jsx)("p",{className:"text-sm font-mono",children:h(f.targetTime)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Actual Time"}),(0,b.jsx)("p",{className:"text-sm font-mono",children:h(f.actualTime)})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(a9.Calendar,{className:"h-5 w-5"}),"Schedule Information"]})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Incoming Date"}),(0,b.jsx)("p",{className:"text-sm",children:(0,ai.formatDate)(f.incomingDate)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Date"}),(0,b.jsx)("p",{className:"text-sm",children:(0,ai.formatDate)(f.deliveryDate)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Time"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bb.Clock,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm"})]})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(bc.DollarSign,{className:"h-5 w-5"}),"Financial Information"]})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Unit Price"}),(0,b.jsx)("p",{className:"text-sm font-semibold"})]}),null!==f.unitPrice&&null!==f.inputCount&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Total"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-green-600"})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(a8,{className:"h-5 w-5"}),"Progress Information"]})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Production Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[f.proDone?(0,b.jsx)(ba.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(bi.XCircle,{className:"h-4 w-4 text-red-500"}),(0,b.jsx)("span",{className:"text-sm",children:f.proDone?"Completed":"Pending"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"QC Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[f.qcDone?(0,b.jsx)(ba.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(bi.XCircle,{className:"h-4 w-4 text-red-500"}),(0,b.jsx)("span",{className:"text-sm",children:f.qcDone?"Completed":"Pending"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Time"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bf,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-semibold"})]})]})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsx)(n.CardTitle,{className:"text-lg",children:"Timestamps"})}),(0,b.jsxs)(n.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),(0,b.jsx)("p",{className:"text-sm",children:(0,ai.formatDate)(f.createdAt)})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),(0,b.jsx)("p",{className:"text-sm",children:(0,ai.formatDate)(f.updatedAt)})]})]})]})]})}),(0,b.jsxs)(o.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:e,children:"Close"}),g&&(0,b.jsx)(d.Button,{onClick:()=>{g&&g(f),e()},children:"Edit Job"})]})]})})}var bk=a.i(69012),bl=a.i(87532),al=al;let bm=({label:a,placeholder:c,defaultValue:e,onChange:f,options:g})=>{let[h,i]=(0,l.useState)(!1),[j,k]=(0,l.useState)(e);return(0,b.jsxs)(a1.Popover,{open:h,onOpenChange:i,children:[(0,b.jsx)(q.Label,{children:a}),(0,b.jsx)(a1.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",role:"combobox","aria-expanded":h,className:(0,ai.cn)("w-full justify-between text-left font-normal"),children:[j?g?.find(a=>a.value===j)?.label:c||`Select ${a}`,(0,b.jsx)(am,{className:"opacity-50"})]})}),(0,b.jsx)(a1.PopoverContent,{className:"w-fit p-0",children:(0,b.jsxs)(aX,{children:[(0,b.jsx)(aY,{placeholder:"Search option...",className:"h-9"}),(0,b.jsxs)(aZ,{children:[(0,b.jsx)(a$,{children:"No option found."}),(0,b.jsx)(a_,{children:g?.map(a=>(0,b.jsxs)(a0,{value:a.value,onSelect:a=>{k(a===j?"":a),f?.(a===j?"":a),i(!1)},children:[a.label,(0,b.jsx)(al.default,{className:(0,ai.cn)("ml-auto",j===a.value?"opacity-100":"opacity-0")})]},a.value))})]})]})})]})};var bn=a.i(35732),bo=a.i(6015),bp=a.i(70837),bq=a.i(5784),br=a.i(13749),bs=a.i(50522),bt=a.i(18341),bu=a.i(31746),bv=a.i(67552),bw=a.i(24569);let bx=(0,I.default)("file-input",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]),by=(0,I.default)("file-output",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);var bz=a.i(17755),bA=a.i(81560);function bB({jobs:a,sort:f,onSort:g,onEdit:h,onDelete:i,onViewDetails:j,currentPage:k,totalPages:l,onPageChange:m,totalItems:o,itemsPerPage:p}){let{data:q}=(0,e.default)({queryKey:["jobStatuses"],queryFn:()=>x()}),r=({field:a,children:c})=>(0,b.jsx)(bo.TableHead,{children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>g(a),children:[c,f.field===a&&("asc"===f.direction?(0,b.jsx)(bv.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(bq.ChevronDown,{className:"ml-1 h-4 w-4"}))]})}),s=Math.min(k*p,o);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(n.Card,{children:(0,b.jsx)(n.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(bo.Table,{children:[(0,b.jsx)(bo.TableHeader,{children:(0,b.jsxs)(bo.TableRow,{children:[(0,b.jsx)(r,{field:"clientId",children:"Client Code"}),(0,b.jsx)(r,{field:"jobCode",children:"Job Code"}),(0,b.jsx)(bo.TableHead,{children:"Input/Output"}),(0,b.jsx)(r,{field:"incomingDate",children:"Incoming Date"}),(0,b.jsx)(r,{field:"deliveryDate",children:"Delivery"}),(0,b.jsx)(r,{field:"jobType",children:"Job Type"}),(0,b.jsx)(r,{field:"status",children:"Status"}),(0,b.jsx)(r,{field:"unitPrice",children:"Unit Price"}),(0,b.jsx)(r,{field:"actualTime",children:"Total Time (min)"}),(0,b.jsx)(bo.TableHead,{children:"Progress"}),(0,b.jsx)(bo.TableHead,{className:"w-[50px]",children:"Actions"}),(0,b.jsx)(r,{field:"vendor",children:"Vendor"})]})}),(0,b.jsx)(bo.TableBody,{children:0===a.length?(0,b.jsx)(bo.TableRow,{children:(0,b.jsx)(bo.TableCell,{colSpan:14,className:"text-center py-8 text-muted-foreground",children:"No jobs found"})}):a.map(a=>(0,b.jsxs)(bo.TableRow,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:b=>{!(b.target.closest("[data-action-button]")||b.target.closest("[role='menuitem']")||b.target.closest("[data-radix-popper-content-wrapper]"))&&j(a)},children:[(0,b.jsx)(bo.TableCell,{children:(0,b.jsx)(c.Badge,{variant:"outline",className:"text-xs w-fit",children:a.client?.name})}),(0,b.jsx)(bo.TableCell,{className:"font-medium max-w-[200px]",children:(0,b.jsx)("div",{className:"truncate",title:a.mainFolderPath||"No folder name",children:a.jobCode||"-"})}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(bx,{className:"h-3 w-3 text-blue-500"}),(0,b.jsxs)("span",{children:["In: ",a.inputCount||0]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(by,{className:"h-3 w-3 text-green-500"}),(0,b.jsxs)("span",{children:["Out: ",a.outputCount||0]})]})]})}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsx)("div",{className:"flex flex-col text-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(a9.Calendar,{className:"h-3 w-3 text-blue-500"}),(0,b.jsx)("span",{children:(0,ai.formatDate)(a.incomingDate)})]})})}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsx)("div",{className:"flex flex-col text-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,b.jsx)(bb.Clock,{className:"h-3 w-3"}),(0,ai.formatDate)(a.deliveryDate)||"No time"]})})}),(0,b.jsx)(bo.TableCell,{className:"max-w-[150px]",children:(0,b.jsx)("div",{className:"truncate",title:a.jobType?.name||"No job type",children:a.jobType?.name||"-"})}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsx)(c.Badge,{className:"text-xs",children:(0,bp.default)(q?.data||[],a.status)})}),(0,b.jsx)(bo.TableCell,{children:a.unitPrice}),(0,b.jsx)(bo.TableCell,{className:"font-mono text-sm"}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[a.proDone?(0,b.jsx)(ba.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(bi.XCircle,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-xs",children:"Pro"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[a.qcDone?(0,b.jsx)(ba.CheckCircle,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(bi.XCircle,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-xs",children:"QC"})]})]})}),(0,b.jsx)(bo.TableCell,{children:(0,b.jsx)("div",{"data-action-button":"true",children:(0,b.jsxs)(bn.DropdownMenu,{children:[(0,b.jsx)(bn.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,b.jsx)(bz.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,b.jsxs)(bn.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(bn.DropdownMenuItem,{onClick:b=>{b.stopPropagation(),h(a)},children:[(0,b.jsx)(bw.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(bn.DropdownMenuItem,{onClick:b=>{var c;return c=a.id,void(b.stopPropagation(),i(c))},className:"text-destructive",children:[(0,b.jsx)(bA.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})}),(0,b.jsx)(bo.TableCell,{className:"max-w-[120px]",children:(0,b.jsx)("div",{className:"truncate",title:a.vendor||"No vendor",children:a.vendor||"-"})})]},a.id))})]})})})}),l>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(k-1)*p+1," to ",s," of ",o," jobs"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>m(1),disabled:1===k,children:[(0,b.jsx)(bt.ChevronsLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>m(k-1),disabled:1===k,children:[(0,b.jsx)(br.ChevronLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,l)},(a,c)=>{let e=Math.max(1,Math.min(l-4,k-2))+c;return(0,b.jsx)(d.Button,{variant:k===e?"default":"outline",size:"sm",onClick:()=>m(e),className:"w-8 h-8 p-0",children:e},e)})}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>m(k+1),disabled:k===l,children:[(0,b.jsx)(bs.ChevronRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>m(l),disabled:k===l,children:[(0,b.jsx)(bu.ChevronsRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let bC=({pagedJobs:a,filters:c,setFilters:d,handleViewDetails:f,handleEditJob:g,handleDeleteJob:h})=>{let{data:i}=(0,e.default)({queryKey:["clients"],queryFn:()=>(0,u.getClients)()}),[j,k]=(0,l.useState)({field:"incomingDate",direction:"desc"}),[m,o]=(0,l.useState)(a?.items||[]);(0,l.useEffect)(()=>{q()},[i,c,j]);let q=()=>{let b=a?.items||[];if(c.search){let a=c.search.toLowerCase();b=b.filter(b=>b.jobCode.toLowerCase().includes(a))}c.clientId&&""!==c.clientId&&(b=b.filter(a=>a.clientId===c.clientId)),o(b)},r=(a,b)=>{d(c=>({...c,[a]:b}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(bk.Filter,{className:"h-5 w-5"}),"Filters"]}),(0,b.jsx)(n.CardDescription,{children:"Filter and search jobs"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(bl.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{placeholder:"Search jobs...",value:c.search,onChange:a=>r("search",a.target.value),className:"pl-10"})]}),(0,b.jsx)("div",{children:(0,b.jsx)(bm,{options:i?.data.map(a=>({value:a.id,label:a.sgCode})),defaultValue:c.clientId||"",onChange:a=>r("clientId",a),placeholder:"Filter by client"})})]})})]}),(0,b.jsx)(bB,{jobs:m,sort:j,onSort:a=>{k(b=>({field:a,direction:b.field===a&&"asc"===b.direction?"desc":"asc"}))},onEdit:g,onDelete:h,onViewDetails:f,currentPage:c.pageNumber,totalPages:Math.ceil((a?.totalRecords??0)/c.pageSize)||0,onPageChange:a=>{d(b=>({...b,pageNumber:a}))},totalItems:a?.totalRecords||0,itemsPerPage:c.pageSize})]})},bD=["CP","Ret","Liq","Sha","CR","BG","Res","Enh","Adj","Comp","Mask","Vec","Logo","Banner","Layout","model creation","Trashion","subtitle","image generate"],bE=["Downloading","Need to up","Uploading","Cancel","Delivered","Postponed"];function bF(){let[a,f]=(0,l.useState)({search:"",clientId:"",pageNumber:1,pageSize:i.defaultPageSize}),{data:n,isFetching:o}=(0,e.default)({queryKey:["jobs",a],queryFn:()=>g(a)}),[p,q]=(0,l.useState)(!1),[r,s]=(0,l.useState)(!1),[t,u]=(0,l.useState)(null),[v,w]=(0,l.useState)(null),x=a=>{u(a),q(!0)};return o||n?.success||(m.default,n?.message),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(c.Badge,{variant:"secondary",className:"text-sm",children:[n?.data?.items?.length||0," jobs"]}),(0,b.jsxs)(c.Badge,{variant:"outline",className:"text-xs",children:["As of ",(0,h.formatDateForDisplay)((0,h.getCurrentDate)())]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(j.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,b.jsxs)(d.Button,{onClick:()=>{u(null),q(!0)},size:"sm",children:[(0,b.jsx)(k.Plus,{className:"h-4 w-4 mr-2"}),"Create Job"]})]})]}),(0,b.jsx)(bC,{pagedJobs:n?.data,filters:a,setFilters:f,handleViewDetails:a=>{w(a),s(!0)},handleEditJob:x,handleDeleteJob:a=>{console.log("Delete job with ID:",a)}}),(0,b.jsx)(a7,{isOpen:p,onClose:()=>q(!1),job:t}),(0,b.jsx)(bj,{isOpen:r,onClose:()=>s(!1),job:v,onEdit:x})]})}}];

//# sourceMappingURL=src_components_job_job-management_tsx_bc141f63._.js.map