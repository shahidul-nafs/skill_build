module.exports=[80979,a=>{"use strict";a.s(["default",()=>T],80979);var b=a.i(87924),c=a.i(36455),d=a.i(55584),e=a.i(86304),f=a.i(99570),g=a.i(15964),h=a.i(75793),i=a.i(5050),j=(0,i.createServerReference)("7f393c7b49845c64b92747bcd22bdc2bcee9ab73f1",i.callServer,void 0,i.findSourceMapURL,"deleteTeam"),k=a.i(76166),l=a.i(84505),m=a.i(15618),n=a.i(60246),o=a.i(72131),p=a.i(23292),q=a.i(59501),r=a.i(95245),s=a.i(66317),t=a.i(14574),u=(0,i.createServerReference)("7f93dbdb64626f955891f47d7e384906e7dc15f016",i.callServer,void 0,i.findSourceMapURL,"createTeam"),v=(0,i.createServerReference)("7ffb4efcbce5dff6bac50ac43cbe31dd3163f5a077",i.callServer,void 0,i.findSourceMapURL,"updateTeam"),w=a.i(19111);let x=w.default.object({name:w.default.string().min(2,"Team name must be at least 2 characters long").max(50,"Team name must be less than 50 characters")});var y=a.i(14548),z=a.i(33508);function A({isOpen:a,onClose:c,team:d}){let{register:e,handleSubmit:h,reset:i,formState:{errors:j,isSubmitting:k}}=(0,r.useForm)({resolver:(0,q.zodResolver)(x),defaultValues:{name:""}}),{mutate:l}=(0,g.useSkillMutation)({mutationFn:a=>u(a),onClose:c,reset:i,queryKey:["teams"]}),{mutate:m}=(0,g.useSkillMutation)({mutationFn:a=>v(a),onClose:c,queryKey:["teams"]});(0,o.useEffect)(()=>{d?i({name:d.name}):i({name:""})},[d,a,i]);let p=async a=>{d?await m({id:d.id,name:a.name.trim()}):await l({name:a.name.trim()})};return(0,b.jsx)(t.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(t.DialogContent,{className:"lg:min-w-[425px]",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Users,{className:"h-5 w-5"}),d?"Edit Team":"Add New Team"]}),(0,b.jsx)(t.DialogDescription,{children:d?"Update the team information below.":"Create a new team by entering the team name below."})]}),(0,b.jsxs)("form",{onSubmit:h(p),className:"space-y-4",children:[(0,b.jsx)(s.default,{register:e,label:"Team Name",id:"name",errors:j,helperText:"Team name should be descriptive and unique (2-50 characters)"}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsxs)(f.Button,{type:"button",variant:"outline",onClick:c,children:[(0,b.jsx)(z.X,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,b.jsxs)(f.Button,{type:"submit",disabled:k,children:[(0,b.jsx)(y.Save,{className:"mr-2 h-4 w-4"}),d?"Update Team":"Create Team"]})]})]})]})})}var B=a.i(91119),C=a.i(66718),D=a.i(69012),E=a.i(87532),F=a.i(35732),G=a.i(6015),H=a.i(68114),I=a.i(5784),J=a.i(13749),K=a.i(50522),L=a.i(18341),M=a.i(31746),N=a.i(67552),O=a.i(24569),P=a.i(17755),Q=a.i(81560);function R({teams:a,sort:c,onSort:d,onEdit:g,onDelete:h,currentPage:i,totalPages:j,onPageChange:k,totalItems:l,itemsPerPage:m}){let o=({field:a,children:e})=>(0,b.jsx)(G.TableHead,{children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"h-auto p-0 font-semibold hover:bg-transparent",onClick:()=>d(a),children:[e,c.field===a&&("asc"===c.direction?(0,b.jsx)(N.ChevronUp,{className:"ml-1 h-4 w-4"}):(0,b.jsx)(I.ChevronDown,{className:"ml-1 h-4 w-4"}))]})}),p=(i-1)*m+1,q=Math.min(i*m,l);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(B.Card,{className:"p-0",children:(0,b.jsx)(B.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(G.Table,{children:[(0,b.jsx)(G.TableHeader,{children:(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(G.TableHead,{className:"w-[50px]",children:(0,b.jsx)(n.Users,{className:"h-4 w-4"})}),(0,b.jsx)(o,{field:"name",children:"Team Name"}),(0,b.jsx)(o,{field:"createdAt",children:"Created Date"}),(0,b.jsx)(o,{field:"updatedAt",children:"Last Updated"}),(0,b.jsx)(G.TableHead,{className:"w-[50px]",children:"Actions"})]})}),(0,b.jsx)(G.TableBody,{children:0===a.length?(0,b.jsx)(G.TableRow,{children:(0,b.jsx)(G.TableCell,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No teams found"})}):a.map((a,c)=>(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(G.TableCell,{children:(0,b.jsx)(e.Badge,{variant:"outline",className:"text-xs",children:p+c})}),(0,b.jsx)(G.TableCell,{className:"font-medium",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.name})]})}),(0,b.jsx)(G.TableCell,{className:"text-muted-foreground",children:(0,H.formatDate)(a.createdAt)}),(0,b.jsx)(G.TableCell,{className:"text-muted-foreground",title:(0,H.formatDate)(a.updatedAt),children:(0,H.formatDate)(a.updatedAt)}),(0,b.jsx)(G.TableCell,{children:(0,b.jsxs)(F.DropdownMenu,{children:[(0,b.jsx)(F.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,b.jsx)(P.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,b.jsxs)(F.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(F.DropdownMenuItem,{onClick:()=>g(a),children:[(0,b.jsx)(O.Edit,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,b.jsxs)(F.DropdownMenuItem,{onClick:()=>h(a.id),className:"text-destructive",children:[(0,b.jsx)(Q.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},a.id))})]})})})}),j>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",p," to ",q," of ",l," teams"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>k(1),disabled:1===i,children:[(0,b.jsx)(L.ChevronsLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"First page"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>k(i-1),disabled:1===i,children:[(0,b.jsx)(J.ChevronLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Previous page"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,j)},(a,c)=>{let d=Math.max(1,Math.min(j-4,i-2))+c;return(0,b.jsx)(f.Button,{variant:i===d?"default":"outline",size:"sm",onClick:()=>k(d),className:"w-8 h-8 p-0",children:d},d)})}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>k(i+1),disabled:i===j,children:[(0,b.jsx)(K.ChevronRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Next page"})]}),(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>k(j),disabled:i===j,children:[(0,b.jsx)(M.ChevronsRight,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Last page"})]})]})]})]})}let S=({handleEditTeam:a,handleDeleteTeam:c,setFilteredTeams:d,filteredTeams:e,teams:f})=>{let[g,h]=(0,o.useState)(1),[i]=(0,o.useState)(10),[j,k]=(0,o.useState)({search:""}),[l,m]=(0,o.useState)({field:"name",direction:"asc"});(0,o.useEffect)(()=>{n()},[f,j,l]);let n=()=>{let a=[...f||[]];if(j.search){let b=j.search.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b))}a.sort((a,b)=>{let c=a[l.field]||"",d=b[l.field]||"";return"string"==typeof c&&"string"==typeof d?"asc"===l.direction?c.localeCompare(d):d.localeCompare(c):0}),d(a),h(1)},p=Math.ceil(e.length/i),q=(g-1)*i,r=e.slice(q,q+i);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(B.Card,{children:[(0,b.jsxs)(B.CardHeader,{children:[(0,b.jsxs)(B.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(D.Filter,{className:"h-5 w-5"}),"Search & Filter"]}),(0,b.jsx)(B.CardDescription,{children:"Search for teams by name"})]}),(0,b.jsx)(B.CardContent,{children:(0,b.jsxs)("div",{className:"relative max-w-md",children:[(0,b.jsx)(E.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(C.Input,{placeholder:"Search teams...",value:j.search,onChange:a=>{var b;return b=a.target.value,void k(a=>({...a,search:b}))},className:"pl-10"})]})})]}),(0,b.jsx)(R,{teams:r,sort:l,onSort:a=>{m(b=>({field:a,direction:b.field===a&&"asc"===b.direction?"desc":"asc"}))},onEdit:a,onDelete:c,currentPage:g,totalPages:p,onPageChange:h,totalItems:e.length,itemsPerPage:i})]})};function T(){let{data:a,isFetching:i}=(0,h.default)({queryKey:["teams"],queryFn:k.getTeams}),[q,r]=(0,o.useState)(!1),[s,t]=(0,o.useState)(null),[u,v]=(0,o.useState)([]),{mutateAsync:w}=(0,g.useSkillMutation)({mutationFn:a=>j(a),queryKey:["teams"]}),x=async a=>{let b=p.toast.loading("Deleting team...");(await w({id:a})).success?p.toast.success("Team deleted successfully!",{id:b}):p.toast.dismiss(b)};return i?(0,b.jsx)(d.default,{}):i||a?.success?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)(e.Badge,{variant:"secondary",className:"text-sm",children:[u.length," teams"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(l.Download,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,b.jsxs)(f.Button,{onClick:()=>{t(null),r(!0)},size:"sm",children:[(0,b.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Add Team"]})]})]}),(0,b.jsx)(S,{teams:a.data,handleDeleteTeam:x,handleEditTeam:a=>{t(a),r(!0)},filteredTeams:u,setFilteredTeams:v}),(0,b.jsx)(A,{isOpen:q,onClose:()=>r(!1),team:s})]}):(0,b.jsx)(c.default,{message:a?.message??"Failed to fetch teams",status:100})}}];

//# sourceMappingURL=src_components_settings_teams_team-management_tsx_0938441a._.js.map