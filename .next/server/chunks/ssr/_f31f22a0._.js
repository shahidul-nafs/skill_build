module.exports=[20226,62435,21007,a=>{"use strict";a.s(["create",()=>e],20226);var b=a.i(72131);let c=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},d=a=>{let d=(a=>a?c(a):c)(a),e=a=>(function(a,c=a=>a){let d=b.default.useSyncExternalStore(a.subscribe,b.default.useCallback(()=>c(a.getState()),[a,c]),b.default.useCallback(()=>c(a.getInitialState()),[a,c]));return b.default.useDebugValue(d),d})(d,a);return Object.assign(e,d),e},e=a=>a?d(a):d;a.s(["persist",()=>g],62435);let f=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>f(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>f(b)(a)}}},g=(a,b)=>(c,d,e)=>{let g,h={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...b},i=!1,j=new Set,k=new Set,l=h.storage;if(!l)return a((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),c(...a)},d,e);let m=()=>{let a=h.partialize({...d()});return l.setItem(h.name,{state:a,version:h.version})},n=e.setState;e.setState=(a,b)=>(n(a,b),m());let o=a((...a)=>(c(...a),m()),d,e);e.getInitialState=()=>o;let p=()=>{var a,b;if(!l)return;i=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let e=(null==(b=h.onRehydrateStorage)?void 0:b.call(h,null!=(a=d())?a:o))||void 0;return f(l.getItem.bind(l))(h.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===h.version)return[!1,a.state];else{if(h.migrate){let b=h.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(a=>{var b;let[e,f]=a;if(c(g=h.merge(f,null!=(b=d())?b:o),!0),e)return m()}).then(()=>{null==e||e(g,void 0),g=d(),i=!0,k.forEach(a=>a(g))}).catch(a=>{null==e||e(void 0,a)})};return e.persist={setOptions:a=>{h={...h,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},h.skipHydration||p(),g||o};a.s(["AUTH_STORAGE_KEY",()=>h,"UTILS_STORAGE_KEY",()=>i],21007);let h="auth-storage",i="utils-storage"},72947,a=>{"use strict";a.s(["default",()=>z],72947);var b=a.i(87924),c=a.i(5050),d=(0,c.createServerReference)("7f303b98d612264204ff0c1c8da7e98dc00f947633",c.callServer,void 0,c.findSourceMapURL,"login"),e=a.i(20226),f=a.i(62435),g=a.i(21007);let h=(0,e.create)()((0,f.persist)(a=>({token:null,setToken:b=>a({token:b}),clearToken:()=>a({token:null})}),{name:g.AUTH_STORAGE_KEY}));var i=a.i(54714);let j=i.object({employeeId:i.string().min(1,"Employee ID is required"),password:i.string().min(1,"Password is required")});var k=a.i(59501),l=a.i(70106);let m=(0,l.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),n=(0,l.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,l.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),p=(0,l.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var q=a.i(46842),r=a.i(72131),s=a.i(95245),t=a.i(23292),u=a.i(24348),v=a.i(99570),w=a.i(91119),x=a.i(66718),y=a.i(70430);let z=({handleSubmit:a})=>{let{setToken:c}=h(),[e,f]=(0,r.useState)(!1),[g,i]=(0,r.useState)(null),{register:l,handleSubmit:z,formState:{errors:A,isSubmitting:B}}=(0,s.useForm)({resolver:(0,k.zodResolver)(j)}),C=async b=>{i(null);let e=await d({employeeId:b.employeeId,password:b.password});if(e.success){c(e.data),a(e.data),t.toast.success("Login successful");return}i(e.message)};return(0,b.jsxs)(w.CardContent,{children:[g&&(0,b.jsxs)(u.Alert,{variant:"destructive",className:"mb-4",children:[(0,b.jsx)(m,{className:"h-4 w-4"}),(0,b.jsx)(u.AlertDescription,{children:g})]}),(0,b.jsxs)("form",{onSubmit:z(C),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(y.Label,{htmlFor:"employeeId",children:"Employee ID"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(q.User,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(x.Input,{id:"employeeId",placeholder:"Enter your employee ID",className:"pl-10",...l("employeeId"),disabled:B})]}),A.employeeId&&(0,b.jsx)("p",{className:"text-red-500",children:A.employeeId.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(y.Label,{htmlFor:"password",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(x.Input,{id:"password",type:e?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",...l("password"),disabled:B}),(0,b.jsx)(v.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!e),"aria-label":e?"Hide password":"Show password",disabled:B,children:e?(0,b.jsx)(o,{className:"h-4 w-4"}):(0,b.jsx)(n,{className:"h-4 w-4"})})]}),A.password&&(0,b.jsx)("p",{className:"text-red-500",children:A.password.message})]}),(0,b.jsx)(v.Button,{type:"submit",className:"w-full",disabled:B,children:B?"Signing in...":"Sign In"})]})]})}}];

//# sourceMappingURL=_f31f22a0._.js.map